<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê·€ë©¸ì˜ì¹¼ë‚  ì§ì¥ì¸ ì„±í–¥ í…ŒìŠ¤íŠ¸</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Malgun Gothic', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .container {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            text-align: center;
            max-width: 900px;
            width: 90%;
        }

        .main-image {
            width: 800px;
            height: 800px;
            max-width: 100%;
            border-radius: 15px;
            margin: 20px auto;
            object-fit: cover;
        }

        .start-image {
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
            font-weight: bold;
        }

        h1 {
            color: #333;
            margin-bottom: 20px;
            font-size: 2.5em;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .subtitle {
            color: #666;
            font-size: 1.2em;
            margin-bottom: 30px;
        }

        .start-btn {
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.3em;
            border-radius: 50px;
            cursor: pointer;
            transition: transform 0.3s;
            margin-top: 20px;
        }

        .start-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }

        .question-container {
            display: none;
        }

        .question-number {
            background: #ff6b6b;
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            display: inline-block;
            margin-bottom: 20px;
            font-weight: bold;
        }

        .question {
            font-size: 1.5em;
            margin-bottom: 30px;
            color: #333;
        }

        .answers {
            display: grid;
            gap: 15px;
            margin-bottom: 30px;
        }

        .answer-btn {
            background: white;
            border: 2px solid #ddd;
            padding: 20px;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 1.1em;
        }

        .answer-btn:hover {
            border-color: #ff6b6b;
            background: #fff5f5;
            transform: translateY(-2px);
        }

        .nav-buttons {
            display: flex;
            justify-content: space-between;
            gap: 20px;
        }

        .nav-btn {
            padding: 12px 30px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1.1em;
            transition: all 0.3s;
        }

        .prev-btn {
            background: #ddd;
            color: #666;
        }

        .next-btn {
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            color: white;
        }

        .nav-btn:hover {
            transform: translateY(-2px);
        }

        .nav-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .result-container {
            display: none;
        }

        .character-image {
            width: 800px;
            height: 800px;
            max-width: 100%;
            border-radius: 15px;
            margin: 20px auto;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 2em;
            font-weight: bold;
        }

        .character-name {
            font-size: 2.5em;
            margin: 20px 0;
            color: #333;
        }

        .character-description {
            font-size: 1.2em;
            line-height: 1.6;
            margin: 30px 0;
            color: #555;
            text-align: left;
        }

        .compatibility-section {
            margin: 40px 0;
        }

        .compatibility-title {
            font-size: 1.5em;
            margin-bottom: 20px;
            color: #333;
        }

        .compatibility-chars {
            display: flex;
            justify-content: center;
            gap: 30px;
            flex-wrap: wrap;
        }

        .compat-char {
            text-align: center;
        }

        .compat-image {
            width: 300px;
            height: 300px;
            border-radius: 15px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5em;
            font-weight: bold;
        }

        .compat-name {
            font-size: 1.2em;
            color: #333;
        }

        .result-buttons {
            margin-top: 40px;
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .result-btn {
            padding: 15px 30px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1.2em;
            transition: all 0.3s;
        }

        .restart-btn {
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            color: white;
        }

        .share-btn {
            background: linear-gradient(45deg, #4ecdc4, #44a08d);
            color: white;
        }

        .result-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }

        .progress-bar {
            width: 100%;
            height: 10px;
            background: #ddd;
            border-radius: 5px;
            overflow: hidden;
            margin-bottom: 30px;
        }

        .progress {
            height: 100%;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            width: 0%;
            transition: width 0.3s;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- ì‹œì‘ í™”ë©´ -->
        <div id="start-screen">
            <h1>ê·€ë©¸ì˜ì¹¼ë‚  ì§ì¥ì¸ ì„±í–¥ í…ŒìŠ¤íŠ¸</h1>
            <p class="subtitle">ë‹¹ì‹ ì€ ì–´ë–¤ ê·€ë©¸ì˜ì¹¼ë‚  ìºë¦­í„°ì™€ ê°™ì€ ì§ì¥ì¸ì¸ê°€ìš”?</p>
            <div class="main-image start-image">
                ê·€ë©¸ì˜ì¹¼ë‚ <br>ì§ì¥ì¸ í…ŒìŠ¤íŠ¸
            </div>
            <button class="start-btn" onclick="startTest()">í…ŒìŠ¤íŠ¸ ì‹œì‘í•˜ê¸°</button>
        </div>

        <!-- ì§ˆë¬¸ í™”ë©´ -->
        <div id="question-screen" class="question-container">
            <div class="progress-bar">
                <div class="progress" id="progress"></div>
            </div>
            <div class="question-number">
                <span id="current-question">1</span> / 12
            </div>
            <div class="question" id="question-text"></div>
            <div class="answers" id="answers"></div>
            <div class="nav-buttons">
                <button class="nav-btn prev-btn" id="prev-btn" onclick="prevQuestion()" disabled>ì´ì „</button>
                <button class="nav-btn next-btn" id="next-btn" onclick="nextQuestion()" disabled>ë‹¤ìŒ</button>
            </div>
        </div>

        <!-- ê²°ê³¼ í™”ë©´ -->
        <div id="result-screen" class="result-container">
            <h1>ë‹¹ì‹ ì˜ ê²°ê³¼ëŠ”...</h1>
            <div id="result-image" class="character-image"></div>
            <div id="result-name" class="character-name"></div>
            <div id="result-description" class="character-description"></div>
            
            <div class="compatibility-section">
                <div class="compatibility-title">ğŸ’¼ í•¨ê»˜ ì¼í•˜ë©´ ì¢‹ì€ ë™ë£Œ</div>
                <div class="compatibility-chars">
                    <div class="compat-char">
                        <div id="good-compat-image" class="compat-image"></div>
                        <div id="good-compat-name" class="compat-name"></div>
                    </div>
                </div>
            </div>

            <div class="compatibility-section">
                <div class="compatibility-title">âš¡ í•¨ê»˜ ì¼í•˜ë©´ í˜ë“  ë™ë£Œ</div>
                <div class="compatibility-chars">
                    <div class="compat-char">
                        <div id="bad-compat-image" class="compat-image"></div>
                        <div id="bad-compat-name" class="compat-name"></div>
                    </div>
                </div>
            </div>

            <div class="result-buttons">
                <button class="result-btn restart-btn" onclick="restartTest()">ë‹¤ì‹œ í…ŒìŠ¤íŠ¸í•˜ê¸°</button>
                <button class="result-btn share-btn" onclick="shareResult()">ì¹œêµ¬ì—ê²Œ ê³µìœ í•˜ê¸°</button>
            </div>
        </div>
    </div>

    <script>
        const questions = [
            {
                question: "ìƒˆë¡œìš´ í”„ë¡œì íŠ¸ê°€ ì‹œì‘ëì„ ë•Œ, ë‹¹ì‹ ì˜ ì²« ë°˜ì‘ì€?",
                answers: [
                    { text: "íŒ€ì›ë“¤ê³¼ í•¨ê»˜ ê³„íšì„ ì„¸ìš°ë©° ì°¨ê·¼ì°¨ê·¼ ì¤€ë¹„í•œë‹¤", scores: { tanjiro: 3, rengoku: 2, mitsuri: 1 } },
                    { text: "í˜¼ìì„œë„ ì¶©ë¶„íˆ í•´ë‚¼ ìˆ˜ ìˆë‹¤ê³  ìƒê°í•œë‹¤", scores: { giyu: 3, muichiro: 2, sanemi: 1 } },
                    { text: "ì¼ë‹¨ ì‹œì‘í•´ë³´ê³  ë¶€ë”ªì³ê°€ë©° í•´ê²°í•œë‹¤", scores: { inosuke: 3, tengen: 2, zenitsu: 1 } },
                    { text: "ì„¸ë°€í•œ ê³„íšê³¼ ì „ëµì„ ë¨¼ì € ìˆ˜ë¦½í•œë‹¤", scores: { shinobu: 3, gyomei: 2, muzan: 1 } }
                ]
            },
            {
                question: "íšŒì˜ ì¤‘ ì˜ê²¬ ì¶©ëŒì´ ì¼ì–´ë‚¬ì„ ë•Œ?",
                answers: [
                    { text: "ëª¨ë“  ì‚¬ëŒì˜ ì˜ê²¬ì„ ë“¤ì–´ë³´ê³  ì¤‘ì¬í•œë‹¤", scores: { tanjiro: 3, gyomei: 2, mitsuri: 1 } },
                    { text: "ì¡°ìš©íˆ ìˆë‹¤ê°€ í•„ìš”í•  ë•Œë§Œ ë°œì–¸í•œë‹¤", scores: { giyu: 3, muichiro: 2, nezuko: 1 } },
                    { text: "ë‚´ ì˜ê²¬ì„ ê°•í•˜ê²Œ ì£¼ì¥í•œë‹¤", scores: { sanemi: 3, inosuke: 2, muzan: 1 } },
                    { text: "ë…¼ë¦¬ì ìœ¼ë¡œ ë¶„ì„í•´ì„œ í•´ê²°ì±…ì„ ì œì‹œí•œë‹¤", scores: { shinobu: 3, obanai: 2, akaza: 1 } }
                ]
            },
            {
                question: "íŒ€ ë‚´ì—ì„œ ë‹¹ì‹ ì˜ ì—­í• ì€?",
                answers: [
                    { text: "ëª¨ë“  ì‚¬ëŒì„ ì±™ê¸°ëŠ” ë“ ë“ í•œ ë¦¬ë”", scores: { tanjiro: 3, rengoku: 2, gyomei: 1 } },
                    { text: "ë¬µë¬µíˆ ìê¸° ì¼ì„ ì™„ë²½í•˜ê²Œ í•´ë‚´ëŠ” ì‚¬ëŒ", scores: { giyu: 3, muichiro: 2, obanai: 1 } },
                    { text: "ë¶„ìœ„ê¸°ë¥¼ ë°ê²Œ ë§Œë“œëŠ” ì—ë„ˆì§€ì›", scores: { mitsuri: 3, tengen: 2, zenitsu: 1 } },
                    { text: "íŒ€ì˜ ë¸Œë ˆì¸ ì—­í• ì„ ë‹´ë‹¹", scores: { shinobu: 3, muzan: 2, akaza: 1 } }
                ]
            },
            {
                question: "ì—…ë¬´ ìŠ¤íƒ€ì¼ì€?",
                answers: [
                    { text: "ì²´ê³„ì ì´ê³  ê¼¼ê¼¼í•˜ê²Œ ì§„í–‰", scores: { tanjiro: 2, gyomei: 3, shinobu: 2 } },
                    { text: "í˜¼ìë§Œì˜ ì‹œê°„ê³¼ ê³µê°„ì—ì„œ ì§‘ì¤‘", scores: { giyu: 3, muichiro: 3, nezuko: 2 } },
                    { text: "ì—­ë™ì ì´ê³  ì°½ì˜ì ìœ¼ë¡œ ì ‘ê·¼", scores: { tengen: 3, inosuke: 2, mitsuri: 1 } },
                    { text: "íš¨ìœ¨ì„±ì„ ìµœìš°ì„ ìœ¼ë¡œ ìƒê°", scores: { muzan: 3, shinobu: 2, akaza: 2 } }
                ]
            },
            {
                question: "ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ ë°›ì„ ë•Œ ë‹¹ì‹ ì€?",
                answers: [
                    { text: "ë™ë£Œë“¤ê³¼ ì´ì•¼ê¸°í•˜ë©° í•´ê²°ì±…ì„ ì°¾ëŠ”ë‹¤", scores: { tanjiro: 3, mitsuri: 2, rengoku: 1 } },
                    { text: "í˜¼ìë§Œì˜ ì‹œê°„ì„ ê°€ì§€ë©° ì •ë¦¬í•œë‹¤", scores: { giyu: 3, muichiro: 2, nezuko: 2 } },
                    { text: "ìš´ë™ì´ë‚˜ ì·¨ë¯¸ë¡œ ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ í‘¼ë‹¤", scores: { tengen: 2, inosuke: 3, zenitsu: 1 } },
                    { text: "ì°¨ë¶„íˆ ë¶„ì„í•˜ê³  ëŒ€ì±…ì„ ì„¸ìš´ë‹¤", scores: { shinobu: 3, gyomei: 2, obanai: 2 } }
                ]
            },
            {
                question: "ë™ë£Œê°€ ì‹¤ìˆ˜í–ˆì„ ë•Œ ë‹¹ì‹ ì˜ ë°˜ì‘ì€?",
                answers: [
                    { text: "ë”°ëœ»í•˜ê²Œ ê²©ë ¤í•˜ê³  í•¨ê»˜ í•´ê²°ë°©ì•ˆì„ ì°¾ëŠ”ë‹¤", scores: { tanjiro: 3, mitsuri: 2, rengoku: 2 } },
                    { text: "ì§ì ‘ì ìœ¼ë¡œ ì§€ì í•˜ì§€ ì•Šê³  ì¡°ìš©íˆ ë„ì™€ì¤€ë‹¤", scores: { nezuko: 3, gyomei: 2, giyu: 1 } },
                    { text: "ì†”ì§í•˜ê²Œ ë¬¸ì œì ì„ ì§€ì í•œë‹¤", scores: { sanemi: 3, obanai: 2, muzan: 1 } },
                    { text: "ë¶€ë“œëŸ½ì§€ë§Œ ëª…í™•í•˜ê²Œ ê°œì„ ì ì„ ì•Œë ¤ì¤€ë‹¤", scores: { shinobu: 3, akaza: 1, tengen: 1 } }
                ]
            },
            {
                question: "í‡´ê·¼ í›„ ë‹¹ì‹ ì€?",
                answers: [
                    { text: "ë™ë£Œë“¤ê³¼ í•¨ê»˜ ì‹ì‚¬ë‚˜ ì·¨ë¯¸ í™œë™ì„ í•œë‹¤", scores: { mitsuri: 3, rengoku: 2, tanjiro: 1 } },
                    { text: "ì¡°ìš©íˆ ì§‘ì—ì„œ í˜¼ìë§Œì˜ ì‹œê°„ì„ ê°–ëŠ”ë‹¤", scores: { giyu: 3, muichiro: 2, nezuko: 2 } },
                    { text: "í™œë™ì ì¸ ì·¨ë¯¸ë‚˜ ìš´ë™ì„ ì¦ê¸´ë‹¤", scores: { tengen: 3, inosuke: 2, zenitsu: 1 } },
                    { text: "ìê¸°ê³„ë°œì´ë‚˜ ê³µë¶€ì— ì‹œê°„ì„ íˆ¬ìí•œë‹¤", scores: { shinobu: 2, gyomei: 3, akaza: 2 } }
                ]
            },
            {
                question: "ì¤‘ìš”í•œ ë°œí‘œë¥¼ ì•ë‘ê³  ìˆì„ ë•Œ?",
                answers: [
                    { text: "ì² ì €íˆ ì¤€ë¹„í•˜ê³  ë™ë£Œë“¤ê³¼ ì—°ìŠµí•œë‹¤", scores: { tanjiro: 2, rengoku: 3, gyomei: 2 } },
                    { text: "í˜¼ì ì¡°ìš©íˆ ì™„ë²½í•˜ê²Œ ì¤€ë¹„í•œë‹¤", scores: { giyu: 3, obanai: 2, muichiro: 1 } },
                    { text: "ê¸´ì¥í•˜ì§€ë§Œ ì—´ì‹¬íˆ ì¤€ë¹„í•œë‹¤", scores: { zenitsu: 3, nezuko: 2, mitsuri: 1 } },
                    { text: "ìì‹ ê° ìˆê²Œ ë‹¹ë‹¹íˆ ì„í•œë‹¤", scores: { tengen: 3, muzan: 2, akaza: 2 } }
                ]
            },
            {
                question: "íŒ€ì›Œí¬ì— ëŒ€í•œ ë‹¹ì‹ ì˜ ìƒê°ì€?",
                answers: [
                    { text: "ëª¨ë“  ì¼ì˜ ê¸°ë³¸ì´ë©° ê°€ì¥ ì¤‘ìš”í•˜ë‹¤", scores: { tanjiro: 3, mitsuri: 2, rengoku: 2 } },
                    { text: "í•„ìš”í•˜ì§€ë§Œ ê°œì¸ ëŠ¥ë ¥ì´ ë” ì¤‘ìš”í•˜ë‹¤", scores: { giyu: 2, muichiro: 1, muzan: 3 } },
                    { text: "ì„œë¡œì˜ ë‹¤ë¦„ì„ ì¸ì •í•˜ë©° ì¡°í™”ë¥¼ ì´ë¤„ì•¼ í•œë‹¤", scores: { gyomei: 3, shinobu: 2, nezuko: 2 } },
                    { text: "ê°•í•œ ê°œì¸ë“¤ì´ ëª¨ì—¬ì•¼ ê°•í•œ íŒ€ì´ ëœë‹¤", scores: { sanemi: 2, akaza: 3, obanai: 1 } }
                ]
            },
            {
                question: "ìƒˆë¡œìš´ ë™ë£Œê°€ ë“¤ì–´ì™”ì„ ë•Œ?",
                answers: [
                    { text: "ë¨¼ì € ë‹¤ê°€ê°€ì„œ ì¹œê·¼í•˜ê²Œ ë§ì´í•œë‹¤", scores: { tanjiro: 3, mitsuri: 3, rengoku: 2 } },
                    { text: "ì ë‹¹í•œ ê±°ë¦¬ë¥¼ ë‘ê³  ì²œì²œíˆ ì•Œì•„ê°„ë‹¤", scores: { giyu: 3, muichiro: 2, nezuko: 1 } },
                    { text: "ëŠ¥ë ¥ë¶€í„° íŒŒì•…í•˜ê³  íŒë‹¨í•œë‹¤", scores: { muzan: 2, sanemi: 1, akaza: 3 } },
                    { text: "í•„ìš”í•  ë•Œ ë„ì›€ì„ ì£¼ë©° ìì—°ìŠ¤ëŸ½ê²Œ ì ‘ê·¼í•œë‹¤", scores: { shinobu: 2, gyomei: 3, obanai: 1 } }
                ]
            },
            {
                question: "ì—…ë¬´ ëª©í‘œ ì„¤ì • ì‹œ?",
                answers: [
                    { text: "íŒ€ ì „ì²´ì˜ ì„±ì¥ì„ ìš°ì„ ìœ¼ë¡œ ìƒê°í•œë‹¤", scores: { tanjiro: 3, rengoku: 2, gyomei: 2 } },
                    { text: "ê°œì¸ì˜ ì™„ì„±ë„ë¥¼ ê°€ì¥ ì¤‘ì‹œí•œë‹¤", scores: { giyu: 3, muichiro: 2, obanai: 2 } },
                    { text: "ë„ì „ì ì´ê³  ì•¼ì‹¬ì°¬ ëª©í‘œë¥¼ ì„¸ìš´ë‹¤", scores: { tengen: 2, muzan: 3, akaza: 2 } },
                    { text: "í˜„ì‹¤ì ì´ë©´ì„œë„ íš¨ê³¼ì ì¸ ëª©í‘œë¥¼ ì„¤ì •í•œë‹¤", scores: { shinobu: 3, nezuko: 1, sanemi: 1 } }
                ]
            },
            {
                question: "ê°€ì¥ ë³´ëŒì„ ëŠë¼ëŠ” ìˆœê°„ì€?",
                answers: [
                    { text: "íŒ€ì›ë“¤ì´ ì„±ì¥í•˜ëŠ” ëª¨ìŠµì„ ë³¼ ë•Œ", scores: { tanjiro: 3, rengoku: 3, gyomei: 2 } },
                    { text: "ìì‹ ì´ ë§¡ì€ ì¼ì„ ì™„ë²½í•˜ê²Œ í•´ëƒˆì„ ë•Œ", scores: { giyu: 3, obanai: 2, muichiro: 2 } },
                    { text: "ì–´ë ¤ìš´ ë„ì „ì„ ì„±ê³µì ìœ¼ë¡œ í•´ê²°í–ˆì„ ë•Œ", scores: { tengen: 2, akaza: 3, sanemi: 2 } },
                    { text: "ëª¨ë“  ê³„íšì´ ì˜ˆìƒëŒ€ë¡œ ì§„í–‰ë  ë•Œ", scores: { shinobu: 3, muzan: 2, nezuko: 1 } }
                ]
            }
        ];

        const characters = {
            tanjiro: {
                name: "ì¹´ë§ˆë„ íƒ„ì§€ë¡œ",
                description: "ğŸŒŸ ë”°ëœ»í•œ ë§ˆìŒì˜ íŒ€ ë¦¬ë”í˜• ì§ì¥ì¸\n\në‹¹ì‹ ì€ ë™ë£Œë“¤ì„ ì§„ì‹¬ìœ¼ë¡œ ë°°ë ¤í•˜ê³ , íŒ€ì˜ í™”í•©ì„ ê°€ì¥ ì¤‘ìš”í•˜ê²Œ ìƒê°í•˜ëŠ” ë¦¬ë”ì‹­ì„ ê°€ì§„ ì‚¬ëŒì…ë‹ˆë‹¤. ì–´ë ¤ìš´ ìƒí™©ì—ì„œë„ í¬ê¸°í•˜ì§€ ì•ŠëŠ” ëˆê¸°ì™€ ì±…ì„ê°ì´ ë›°ì–´ë‚˜ë©°, ëª¨ë“  íŒ€ì›ì´ í•¨ê»˜ ì„±ì¥í•  ìˆ˜ ìˆë„ë¡ ë•ëŠ” ê²ƒì—ì„œ í° ë³´ëŒì„ ëŠë‚ë‹ˆë‹¤. ê°ˆë“± ìƒí™©ì—ì„œëŠ” ì¤‘ì¬ì ì—­í• ì„ ìì—°ìŠ¤ëŸ½ê²Œ ë§¡ìœ¼ë©°, ìƒëŒ€ë°©ì˜ ì…ì¥ì„ ì´í•´í•˜ë ¤ê³  ë…¸ë ¥í•©ë‹ˆë‹¤.",
                bgColor: "linear-gradient(45deg, #2E8B57, #228B22)",
                goodCompat: "mitsuri",
                badCompat: "muzan"
            },
            nezuko: {
                name: "ì¹´ë§ˆë„ ë„¤ì¦ˆì½”",
                description: "ğŸŒ™ ì¡°ìš©í•œ ì§€ì›êµ°í˜• ì§ì¥ì¸\n\në‹¹ì‹ ì€ ë§ì€ ì ì§€ë§Œ í–‰ë™ìœ¼ë¡œ ë³´ì—¬ì£¼ëŠ” ì‹ ë¢°ê° ìˆëŠ” ë™ë£Œì…ë‹ˆë‹¤. ê²‰ìœ¼ë¡œ ë“œëŸ¬ë‚´ì§€ëŠ” ì•Šì§€ë§Œ íŒ€ì›ë“¤ì„ ì„¸ì‹¬í•˜ê²Œ ì±™ê¸°ê³ , í•„ìš”í•  ë•Œ ì¡°ìš©íˆ ë„ì›€ì˜ ì†ê¸¸ì„ ë‚´ë°‰ë‹ˆë‹¤. ìì‹ ì˜ ê°ì •ì„ ì˜ ì¡°ì ˆí•˜ë©°, ì–´ë ¤ìš´ ìƒí™©ì—ì„œë„ ì¹¨ì°©í•¨ì„ ìœ ì§€í•˜ëŠ” ëŠ¥ë ¥ì´ ë›°ì–´ë‚©ë‹ˆë‹¤. í™”ë ¤í•˜ì§€ ì•Šì§€ë§Œ ì—†ì–´ì„œëŠ” ì•ˆ ë  ì†Œì¤‘í•œ íŒ€ì›ì…ë‹ˆë‹¤.",
                bgColor: "linear-gradient(45deg, #FF69B4, #FFB6C1)",
                goodCompat: "tanjiro",
                badCompat: "sanemi"
            },
            zenitsu: {
                name: "ì•„ê°€ì¸ ë§ˆ ì  ì´ì¸ ",
                description: "âš¡ ìˆ¨ì€ ì‹¤ë ¥íŒŒí˜• ì§ì¥ì¸\n\ní‰ì†Œì—ëŠ” ì†Œì‹¬í•˜ê³  ê±±ì •ì´ ë§ì•„ ë³´ì´ì§€ë§Œ, ì§„ì§œ ì¤‘ìš”í•œ ìˆœê°„ì—ëŠ” ë†€ë¼ìš´ ì§‘ì¤‘ë ¥ê³¼ ëŠ¥ë ¥ì„ ë°œíœ˜í•˜ëŠ” ì‚¬ëŒì…ë‹ˆë‹¤. ìì‹ ê°ì€ ë¶€ì¡±í•˜ì§€ë§Œ ì‹¤ì œë¡œëŠ” ë›°ì–´ë‚œ ì—­ëŸ‰ì„ ê°€ì§€ê³  ìˆìœ¼ë©°, ë™ë£Œë“¤ì˜ ì¸ì •ì„ ë°›ê³  ì‹¶ì–´í•©ë‹ˆë‹¤. ê¸´ì¥í•˜ëŠ” ìƒí™©ì´ ë§ì§€ë§Œ, í•œë²ˆ ëª°ì…í•˜ë©´ ëˆ„êµ¬ë³´ë‹¤ ì™„ë²½í•œ ê²°ê³¼ë¥¼ ë§Œë“¤ì–´ëƒ…ë‹ˆë‹¤.",
                bgColor: "linear-gradient(45deg, #FFD700, #FFA500)",
                goodCompat: "tanjiro",
                badCompat: "inosuke"
            },
            inosuke: {
                name: "í•˜ì‹œë¹„ë¼ ì´ë…¸ìŠ¤ì¼€",
                description: "ğŸ— ììœ ë¶„ë°©í•œ ë„ì „ìí˜• ì§ì¥ì¸\n\nê·œì¹™ê³¼ ê´€ìŠµì— ì–½ë§¤ì´ì§€ ì•Šê³  ìì‹ ë§Œì˜ ë°©ì‹ìœ¼ë¡œ ì¼ì„ ì²˜ë¦¬í•˜ëŠ” ë…íŠ¹í•œ ë§¤ë ¥ì„ ê°€ì§„ ì‚¬ëŒì…ë‹ˆë‹¤. ê²½ìŸì‹¬ì´ ê°•í•˜ê³  ìƒˆë¡œìš´ ë„ì „ì„ ë‘ë ¤ì›Œí•˜ì§€ ì•Šìœ¼ë©°, ì°½ì˜ì ì¸ ì•„ì´ë””ì–´ë¡œ íŒ€ì— í™œë ¥ì„ ë¶ˆì–´ë„£ìŠµë‹ˆë‹¤. ë•Œë¡œëŠ” ë¬´ëª¨í•´ ë³´ì¼ ìˆ˜ ìˆì§€ë§Œ, ë›°ì–´ë‚œ ì§ê°ê³¼ ì¶”ì§„ë ¥ìœ¼ë¡œ ì˜ˆìƒì¹˜ ëª»í•œ ì„±ê³¼ë¥¼ ê±°ë‘ê³¤ í•©ë‹ˆë‹¤.",
                bgColor: "linear-gradient(45deg, #8B4513, #A0522D)",
                goodCompat: "tengen",
                badCompat: "giyu"
            },
            giyu: {
                name: "í† ë¯¸ì˜¤ì¹´ ê¸°ìœ ",
                description: "ğŸŒŠ ì™„ë²½ì£¼ì˜ ê°œì¸ê¸°í˜• ì§ì¥ì¸\n\në§ìˆ˜ëŠ” ì ì§€ë§Œ ìì‹ ì˜ ì—…ë¬´ì— ëŒ€í•œ ì±…ì„ê°ê³¼ ì „ë¬¸ì„±ì´ ë›°ì–´ë‚œ ì‚¬ëŒì…ë‹ˆë‹¤. í˜¼ìì„œë„ ì™„ë²½í•˜ê²Œ ì¼ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ëŠ¥ë ¥ì„ ê°€ì§€ê³  ìˆìœ¼ë©°, ê¹Šì´ ìˆëŠ” ì‚¬ê³ ë ¥ìœ¼ë¡œ ë³µì¡í•œ ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ë° íƒì›”í•©ë‹ˆë‹¤. ê°ì • í‘œí˜„ì€ ì„œíˆ¬ë¥´ì§€ë§Œ, ë™ë£Œë“¤ì„ ì§„ì‹¬ìœ¼ë¡œ ìƒê°í•˜ê³  ìˆìœ¼ë©°, ì¤‘ìš”í•œ ìˆœê°„ì—ëŠ” ëˆ„êµ¬ë³´ë‹¤ ë¯¿ìŒì§í•œ ëª¨ìŠµì„ ë³´ì—¬ì¤ë‹ˆë‹¤.",
                bgColor: "linear-gradient(45deg, #1E90FF, #0066CC)",
                goodCompat: "tanjiro",
                badCompat: "tengen"
            },
            rengoku: {
                name: "ë Œê³ ì¿  ì¿„ì¥¬ë¡œ",
                description: "ğŸ”¥ ì—´ì •ì ì¸ ë©˜í† í˜• ì§ì¥ì¸\n\në„˜ì¹˜ëŠ” ì—ë„ˆì§€ì™€ ê¸ì •ì ì¸ ë§ˆì¸ë“œë¡œ íŒ€ ì „ì²´ì— í™œë ¥ì„ ë¶ˆì–´ë„£ëŠ” ì‚¬ëŒì…ë‹ˆë‹¤. í›„ë°°ë“¤ì„ ì•„ë¼ê³  ê°€ë¥´ì¹˜ëŠ” ê²ƒì„ ì¢‹ì•„í•˜ë©°, ì–´ë–¤ ì–´ë ¤ì›€ ì•ì—ì„œë„ êµ´ë³µí•˜ì§€ ì•ŠëŠ” ê°•ì¸í•œ ì •ì‹ ë ¥ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. 'ì—´ì •'ê³¼ 'ë…¸ë ¥'ì„ ì‹ ë…ìœ¼ë¡œ ì‚¼ê³  ìˆìœ¼ë©°, ìì‹ ì˜ ê²½í—˜ê³¼ ì§€í˜œë¥¼ ì•„ë‚Œì—†ì´ ë‚˜ëˆ„ì–´ íŒ€ ì „ì²´ì˜ ì„±ì¥ì„ ì´ë•ë‹ˆë‹¤.",
                bgColor: "linear-gradient(45deg, #FF4500, #DC143C)",
                goodCompat: "tanjiro",
                badCompat: "muzan"
            },
            tengen: {
                name: "ìš°ì¦ˆì´ í…ê²",
                description: "ğŸ’ í™”ë ¤í•œ ê¸°íšìí˜• ì§ì¥ì¸\n\nì°½ì˜ì„±ê³¼ ì„¼ìŠ¤ê°€ ë›°ì–´ë‚˜ë©°, ëª¨ë“  ì¼ì„ ìŠ¤íƒ€ì¼ë¦¬ì‹œí•˜ê²Œ ì²˜ë¦¬í•˜ëŠ” ì‚¬ëŒì…ë‹ˆë‹¤. íŠ¸ë Œë“œì— ë¯¼ê°í•˜ê³  ìƒˆë¡œìš´ ê²ƒì„ ì¶”êµ¬í•˜ë©°, í”„ë ˆì  í…Œì´ì…˜ì´ë‚˜ ê¸°íš ì—…ë¬´ì—ì„œ íƒì›”í•œ ëŠ¥ë ¥ì„ ë°œíœ˜í•©ë‹ˆë‹¤. ìì‹ ê°ì´ ë„˜ì¹˜ê³  ë¦¬ë”ì‹­ì´ ìˆì–´ íŒ€ì„ ì´ë„ëŠ” ë° ëŠ¥ìˆ™í•˜ë©°, ì¼ê³¼ ì‚¶ì˜ ê· í˜•ì„ ì¤‘ìš”í•˜ê²Œ ìƒê°í•˜ëŠ” í˜„ì‹¤ì ì¸ ë©´ë„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.",
                bgColor: "linear-gradient(45deg, #9400D3, #FF1493)",
                goodCompat: "mitsuri",
                badCompat: "giyu"
            },
            shinobu: {
                name: "ì½”ì´ˆ ì‹œë…¸ë¶€",
                description: "ğŸ¦‹ ì§€ì ì¸ ì „ëµê°€í˜• ì§ì¥ì¸\n\nê²‰ìœ¼ë¡œëŠ” ì˜¨í™”í•´ ë³´ì´ì§€ë§Œ ë‚´ë©´ì—ëŠ” ë‚ ì¹´ë¡œìš´ ë¶„ì„ë ¥ê³¼ ì „ëµì  ì‚¬ê³ ë¥¼ ê°€ì§„ ì‚¬ëŒì…ë‹ˆë‹¤. ë³µì¡í•œ ë¬¸ì œë¥¼ ë…¼ë¦¬ì ìœ¼ë¡œ í•´ê²°í•˜ëŠ” ëŠ¥ë ¥ì´ ë›°ì–´ë‚˜ë©°, íš¨ìœ¨ì„±ì„ ì¶”êµ¬í•©ë‹ˆë‹¤. ë™ë£Œë“¤ì—ê²ŒëŠ” ì¹œì ˆí•˜ì§€ë§Œ ë•Œë¡œëŠ” ì‹ ë„í•œ ì¡°ì–¸ì„ í•˜ê¸°ë„ í•˜ë©°, í•­ìƒ ëƒ‰ì •í•œ íŒë‹¨ë ¥ì„ ìœ ì§€í•©ë‹ˆë‹¤. ì „ë¬¸ ì§€ì‹ì´ í’ë¶€í•˜ê³  ì„¸ë°€í•œ ê³„íš ìˆ˜ë¦½ì— íƒì›”í•©ë‹ˆë‹¤.",
                bgColor: "linear-gradient(45deg, #9966CC, #DA70D6)",
                goodCompat: "gyomei",
                badCompat: "inosuke"
            },
            muichiro: {
                name: "í† í‚¤í†  ë¬´ì´ì¹˜ë¡œ",
                description: "â˜ï¸ ì²œì¬ì  ì§‘ì¤‘ë ¥í˜• ì§ì¥ì¸\n\ní‰ì†Œì—ëŠ” ë©í•˜ë‹ˆ ìˆëŠ” ê²ƒì²˜ëŸ¼ ë³´ì´ì§€ë§Œ, ì¼ì— ëª°ì…í•˜ë©´ ë†€ë¼ìš´ ì§‘ì¤‘ë ¥ê³¼ ì°½ì˜ì„±ì„ ë°œíœ˜í•˜ëŠ” ì‚¬ëŒì…ë‹ˆë‹¤. ìì‹ ë§Œì˜ í˜ì´ìŠ¤ë¥¼ ê°€ì§€ê³  ìˆìœ¼ë©°, ë‚¨ë“¤ê³¼ ë‹¤ë¥¸ ê´€ì ìœ¼ë¡œ ë¬¸ì œë¥¼ ë°”ë¼ë³´ëŠ” ëŠ¥ë ¥ì´ ë›°ì–´ë‚©ë‹ˆë‹¤. ë§ìˆ˜ëŠ” ì ì§€ë§Œ í•µì‹¬ì„ ì°Œë¥´ëŠ” í†µì°°ë ¥ì„ ê°€ì§€ê³  ìˆìœ¼ë©°, ë…ë¦½ì ìœ¼ë¡œ ì—…ë¬´ë¥¼ ì²˜ë¦¬í•˜ëŠ” ê²ƒì„ ì„ í˜¸í•©ë‹ˆë‹¤.",
                bgColor: "linear-gradient(45deg, #87CEEB, #B0E0E6)",
                goodCompat: "nezuko",
                badCompat: "sanemi"
            },
            mitsuri: {
                name: "ì¹¸ë¡œì§€ ë¯¸ì¸ ë¦¬",
                description: "ğŸ’– ì‚¬êµì ì¸ ë¶„ìœ„ê¸°ë©”ì´ì»¤í˜• ì§ì¥ì¸\n\në°ê³  ê¸ì •ì ì¸ ì—ë„ˆì§€ë¡œ ì‚¬ë¬´ì‹¤ ë¶„ìœ„ê¸°ë¥¼ í•œì¸µ ë”°ëœ»í•˜ê²Œ ë§Œë“œëŠ” ì‚¬ëŒì…ë‹ˆë‹¤. ë™ë£Œë“¤ê³¼ì˜ ê´€ê³„ë¥¼ ì†Œì¤‘íˆ ì—¬ê¸°ë©°, íŒ€ì›Œí¬ë¥¼ í†µí•´ ì‹œë„ˆì§€ë¥¼ ë§Œë“¤ì–´ë‚´ëŠ” ë° íƒì›”í•©ë‹ˆë‹¤. ê°ì •ì´ í’ë¶€í•˜ê³  ê³µê° ëŠ¥ë ¥ì´ ë›°ì–´ë‚˜ë©°, ì–´ë ¤ìš´ ìƒí™©ì—ì„œë„ í¬ë§ì ì¸ ë©´ì„ ì°¾ì•„ë‚´ëŠ” ëŠ¥ë ¥ì´ ìˆìŠµë‹ˆë‹¤. íšŒì‹ì´ë‚˜ íŒ€ ë¹Œë”© í™œë™ì˜ ì¤‘ì‹¬ì´ ë˜ëŠ” ì‚¬ëŒì…ë‹ˆë‹¤.",
                bgColor: "linear-gradient(45deg, #FF69B4, #32CD32)",
                goodCompat: "rengoku",
                badCompat: "obanai"
            },
            sanemi: {
                name: "ì‹œë‚˜ì¦ˆê°€ì™€ ì‚¬ë„¤ë¯¸",
                description: "ğŸ’¨ ì§ì„¤ì ì¸ ì‹¤ë¬´ì§„í˜• ì§ì¥ì¸\n\nì†”ì§í•˜ê³  ì§ì„¤ì ì¸ ì„±ê²©ìœ¼ë¡œ ë•Œë¡œëŠ” ì˜¤í•´ë¥¼ ë°›ê¸°ë„ í•˜ì§€ë§Œ, ì§„ì •ìœ¼ë¡œ íŒ€ì˜ ì„±ê³¼ë¥¼ ìƒê°í•˜ëŠ” ì‚¬ëŒì…ë‹ˆë‹¤. ì™„ë²½ì£¼ì˜ì  ì„±í–¥ì´ ê°•í•˜ê³  ìì‹ ê³¼ ë™ë£Œë“¤ì—ê²Œ ë†’ì€ ê¸°ì¤€ì„ ìš”êµ¬í•©ë‹ˆë‹¤. ê²‰ìœ¼ë¡œëŠ” ê¹Œì¹ í•´ ë³´ì´ì§€ë§Œ ì‹¤ì œë¡œëŠ” ë™ë£Œë“¤ì„ ê¹Šì´ ì‹ ê²½ ì“°ë©°, ì¤‘ìš”í•œ ìˆœê°„ì—ëŠ” íŒ€ì„ ìœ„í•´ í—Œì‹ í•˜ëŠ” ëª¨ìŠµì„ ë³´ì—¬ì¤ë‹ˆë‹¤.",
                bgColor: "linear-gradient(45deg, #708090, #2F4F4F)",
                goodCompat: "gyomei",
                badCompat: "mitsuri"
            },
            gyomei: {
                name: "íˆë©”ì§€ë§ˆ êµë©”ì´",
                description: "â›°ï¸ ì‹ ì¤‘í•œ ì¡°ë ¥ìí˜• ì§ì¥ì¸\n\nê¹Šì€ ì‚¬ê³ ë ¥ê³¼ í¬ìš©ë ¥ì„ ê°€ì§„ íŒ€ì˜ ë“ ë“ í•œ ë²„íŒ€ëª© ê°™ì€ ì¡´ì¬ì…ë‹ˆë‹¤. ê²½í—˜ì´ í’ë¶€í•˜ê³  ì‹ ì¤‘í•œ íŒë‹¨ë ¥ìœ¼ë¡œ íŒ€ì˜ ì¤‘ìš”í•œ ê²°ì •ì— ì¡°ì–¸ì„ ì œê³µí•©ë‹ˆë‹¤. ê°ì •ì ìœ¼ë¡œ ì„±ìˆ™í•˜ë©° ê°ˆë“± ìƒí™©ì—ì„œ ì¤‘ì¬ì ì—­í• ì„ ì˜ ìˆ˜í–‰í•©ë‹ˆë‹¤. í›„ë°°ë“¤ì„ ë”°ëœ»í•˜ê²Œ ì±™ê¸°ê³ , íŒ€ ì „ì²´ì˜ ì•ˆì •ê°ì„ ì œê³µí•˜ëŠ” ë¯¿ìŒì§í•œ ë™ë£Œì…ë‹ˆë‹¤.",
                bgColor: "linear-gradient(45deg, #8B4513, #D2691E)",
                goodCompat: "tanjiro",
                badCompat: "muzan"
            },
            muzan: {
                name: "í‚¤ë¶€ì¸ ì§€ ë¬´ì”",
                description: "ğŸ‘‘ ì™„ë²½ì£¼ì˜ CEOí˜• ì§ì¥ì¸\n\nê·¹ë„ì˜ ì™„ë²½ì£¼ì˜ìë¡œ ìì‹ ê³¼ íŒ€ì— ëŒ€í•´ ë§¤ìš° ë†’ì€ ê¸°ì¤€ì„ ê°€ì§€ê³  ìˆëŠ” ì‚¬ëŒì…ë‹ˆë‹¤. íš¨ìœ¨ì„±ê³¼ ê²°ê³¼ë¥¼ ì¤‘ì‹œí•˜ë©°, ê°ì •ë³´ë‹¤ëŠ” ë…¼ë¦¬ì™€ ì„±ê³¼ë¡œ ëª¨ë“  ê²ƒì„ íŒë‹¨í•©ë‹ˆë‹¤. ì¹´ë¦¬ìŠ¤ë§ˆê°€ ìˆê³  ë¦¬ë”ì‹­ì´ ê°•í•˜ì§€ë§Œ, ë•Œë¡œëŠ” ëƒ‰ì •í•˜ê³  ë¹„ì •í•´ ë³´ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ëª©í‘œ ë‹¬ì„±ì„ ìœ„í•´ì„œëŠ” ìˆ˜ë‹¨ê³¼ ë°©ë²•ì„ ê°€ë¦¬ì§€ ì•ŠëŠ” ì¶”ì§„ë ¥ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.",
                bgColor: "linear-gradient(45deg, #8B0000, #000000)",
                goodCompat: "akaza",
                badCompat: "tanjiro"
            },
            akaza: {
                name: "ì•„ì¹´ì",
                description: "ğŸ‘Š ê²½ìŸì ì¸ ì„±ê³¼ì£¼ì˜í˜• ì§ì¥ì¸\n\nê°•í•œ ê²½ìŸì‹¬ê³¼ ìŠ¹ë¶€ìš•ì„ ê°€ì§€ê³  ìˆìœ¼ë©°, í•­ìƒ ë” ë‚˜ì€ ì„±ê³¼ë¥¼ ìœ„í•´ ë…¸ë ¥í•˜ëŠ” ì‚¬ëŒì…ë‹ˆë‹¤. ê°œì¸ì˜ ì—­ëŸ‰ ê°œë°œì— ë§¤ìš° ì ê·¹ì ì´ê³ , ë„ì „ì ì¸ ëª©í‘œë¥¼ ì„¤ì •í•˜ëŠ” ê²ƒì„ ì¢‹ì•„í•©ë‹ˆë‹¤. ì‹¤ë ¥ì„ ì¸ì •ë°›ê³  ì‹¶ì–´í•˜ëŠ” ìš•êµ¬ê°€ ê°•í•˜ë©°, ìì‹ ë³´ë‹¤ ë›°ì–´ë‚œ ì‚¬ëŒì„ ë§Œë‚˜ë©´ ë”ìš± ë°œì „í•˜ë ¤ëŠ” ì˜ì§€ë¥¼ ë³´ì…ë‹ˆë‹¤. ë•Œë¡œëŠ” ê³¼ë„í•œ ê²½ìŸì‹¬ìœ¼ë¡œ ë™ë£Œë“¤ê³¼ ê°ˆë“±ì´ ìƒê¸°ê¸°ë„ í•©ë‹ˆë‹¤.",
                bgColor: "linear-gradient(45deg, #FF0000, #FF4500)",
                goodCompat: "muzan",
                badCompat: "rengoku"
            },
            obanai: {
                name: "ì´êµ¬ë¡œ ì˜¤ë°”ë‚˜ì´",
                description: "ğŸ ì‹ ì¤‘í•œ ê´€ì°°ìí˜• ì§ì¥ì¸\n\nì¡°ìš©í•˜ì§€ë§Œ ì˜ˆë¦¬í•œ ê´€ì°°ë ¥ì„ ê°€ì§€ê³  ìˆìœ¼ë©°, ìƒí™©ì„ ì •í™•íˆ íŒŒì•…í•˜ëŠ” ëŠ¥ë ¥ì´ ë›°ì–´ë‚œ ì‚¬ëŒì…ë‹ˆë‹¤. ì‹ ì¤‘í•˜ê³  ê³„íšì ìœ¼ë¡œ ì¼ì„ ì²˜ë¦¬í•˜ë©°, ë””í…Œì¼ì„ ë†“ì¹˜ì§€ ì•ŠëŠ” ì„¸ì‹¬í•¨ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. ì‰½ê²Œ ë§ˆìŒì„ ì—´ì§€ëŠ” ì•Šì§€ë§Œ, í•œë²ˆ ì‹ ë¢° ê´€ê³„ê°€ í˜•ì„±ë˜ë©´ ë§¤ìš° ì¶©ì„±ìŠ¤ëŸ½ê³  ë¯¿ìŒì§í•œ ë™ë£Œê°€ ë©ë‹ˆë‹¤. í’ˆì§ˆ ê´€ë¦¬ë‚˜ ê²€í†  ì—…ë¬´ì— íŠ¹íˆ ë›°ì–´ë‚œ ëª¨ìŠµì„ ë³´ì…ë‹ˆë‹¤.",
                bgColor: "linear-gradient(45deg, #4B0082, #663399)",
                goodCompat: "mitsuri",
                badCompat: "tengen"
            }
        };

        let currentQuestion = 0;
        let answers = [];

        function startTest() {
            document.getElementById('start-screen').style.display = 'none';
            document.getElementById('question-screen').style.display = 'block';
            showQuestion();
        }

        function showQuestion() {
            const question = questions[currentQuestion];
            document.getElementById('current-question').textContent = currentQuestion + 1;
            document.getElementById('question-text').textContent = question.question;
            
            const answersDiv = document.getElementById('answers');
            answersDiv.innerHTML = '';
            
            question.answers.forEach((answer, index) => {
                const button = document.createElement('button');
                button.className = 'answer-btn';
                button.textContent = answer.text;
                button.onclick = () => selectAnswer(index);
                answersDiv.appendChild(button);
            });

            updateProgress();
            updateNavButtons();
        }

        function selectAnswer(answerIndex) {
            answers[currentQuestion] = answerIndex;
            
            // ì„ íƒëœ ë‹µë³€ í•˜ì´ë¼ì´íŠ¸
            const answerButtons = document.querySelectorAll('.answer-btn');
            answerButtons.forEach((btn, index) => {
                if (index === answerIndex) {
                    btn.style.background = 'linear-gradient(45deg, #ff6b6b, #4ecdc4)';
                    btn.style.color = 'white';
                    btn.style.borderColor = '#ff6b6b';
                } else {
                    btn.style.background = 'white';
                    btn.style.color = 'black';
                    btn.style.borderColor = '#ddd';
                }
            });
            
            updateNavButtons();
        }

        function nextQuestion() {
            if (answers[currentQuestion] !== undefined) {
                if (currentQuestion < questions.length - 1) {
                    currentQuestion++;
                    showQuestion();
                } else {
                    showResult();
                }
            }
        }

        function prevQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                showQuestion();
                
                // ì´ì „ì— ì„ íƒí•œ ë‹µë³€ì´ ìˆë‹¤ë©´ í•˜ì´ë¼ì´íŠ¸
                if (answers[currentQuestion] !== undefined) {
                    const answerButtons = document.querySelectorAll('.answer-btn');
                    answerButtons.forEach((btn, index) => {
                        if (index === answers[currentQuestion]) {
                            btn.style.background = 'linear-gradient(45deg, #ff6b6b, #4ecdc4)';
                            btn.style.color = 'white';
                            btn.style.borderColor = '#ff6b6b';
                        }
                    });
                }
            }
        }

        function updateProgress() {
            const progress = ((currentQuestion + 1) / questions.length) * 100;
            document.getElementById('progress').style.width = progress + '%';
        }

        function updateNavButtons() {
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            
            prevBtn.disabled = currentQuestion === 0;
            nextBtn.disabled = answers[currentQuestion] === undefined;
            
            if (currentQuestion === questions.length - 1) {
                nextBtn.textContent = 'ê²°ê³¼ë³´ê¸°';
            } else {
                nextBtn.textContent = 'ë‹¤ìŒ';
            }
        }

        function calculateResult() {
            const scores = {};
            
            // ëª¨ë“  ìºë¦­í„°ì˜ ì ìˆ˜ë¥¼ 0ìœ¼ë¡œ ì´ˆê¸°í™”
            Object.keys(characters).forEach(char => {
                scores[char] = 0;
            });

            // ë‹µë³€ì— ë”°ë¥¸ ì ìˆ˜ ê³„ì‚°
            answers.forEach((answerIndex, questionIndex) => {
                const question = questions[questionIndex];
                const selectedAnswer = question.answers[answerIndex];
                
                Object.entries(selectedAnswer.scores).forEach(([char, score]) => {
                    scores[char] += score;
                });
            });

            // ê°€ì¥ ë†’ì€ ì ìˆ˜ë¥¼ ë°›ì€ ìºë¦­í„° ì°¾ê¸°
            let maxScore = 0;
            let resultChar = 'tanjiro';
            
            Object.entries(scores).forEach(([char, score]) => {
                if (score > maxScore) {
                    maxScore = score;
                    resultChar = char;
                }
            });

            return resultChar;
        }

        function showResult() {
            const resultChar = calculateResult();
            const character = characters[resultChar];
            
            document.getElementById('question-screen').style.display = 'none';
            document.getElementById('result-screen').style.display = 'block';
            
            // ê²°ê³¼ ìºë¦­í„° ì •ë³´ í‘œì‹œ
            const resultImage = document.getElementById('result-image');
            resultImage.style.background = character.bgColor;
            resultImage.textContent = character.name;
            
            document.getElementById('result-name').textContent = character.name;
            document.getElementById('result-description').textContent = character.description;
            
            // ê¶í•© ìºë¦­í„° ì •ë³´ í‘œì‹œ
            const goodCompat = characters[character.goodCompat];
            const badCompat = characters[character.badCompat];
            
            const goodCompatImage = document.getElementById('good-compat-image');
            goodCompatImage.style.background = goodCompat.bgColor;
            goodCompatImage.textContent = goodCompat.name;
            document.getElementById('good-compat-name').textContent = goodCompat.name;
            
            const badCompatImage = document.getElementById('bad-compat-image');
            badCompatImage.style.background = badCompat.bgColor;
            badCompatImage.textContent = badCompat.name;
            document.getElementById('bad-compat-name').textContent = badCompat.name;
        }

        function restartTest() {
            currentQuestion = 0;
            answers = [];
            document.getElementById('result-screen').style.display = 'none';
            document.getElementById('start-screen').style.display = 'block';
        }

        function shareResult() {
            const resultChar = calculateResult();
            const character = characters[resultChar];
            
            if (navigator.share) {
                navigator.share({
                    title: 'ê·€ë©¸ì˜ì¹¼ë‚  ì§ì¥ì¸ ì„±í–¥ í…ŒìŠ¤íŠ¸',
                    text: `ë‚˜ì˜ ê²°ê³¼ëŠ” "${character.name}"! ë‹¹ì‹ ë„ í…ŒìŠ¤íŠ¸í•´ë³´ì„¸ìš”!`,
                    url: window.location.href
                });
            } else {
                // í´ë¦½ë³´ë“œì— ë³µì‚¬
                const shareText = `ë‚˜ì˜ ê·€ë©¸ì˜ì¹¼ë‚  ì§ì¥ì¸ ì„±í–¥ í…ŒìŠ¤íŠ¸ ê²°ê³¼ëŠ” "${character.name}"ì…ë‹ˆë‹¤! ë‹¹ì‹ ë„ í…ŒìŠ¤íŠ¸í•´ë³´ì„¸ìš”: ${window.location.href}`;
                navigator.clipboard.writeText(shareText).then(() => {
                    alert('ê²°ê³¼ê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!');
                });
            }
        }

        // ì´ˆê¸° ì„¤ì •
        document.addEventListener('DOMContentLoaded', function() {
            // ì‹œì‘ í™”ë©´ í‘œì‹œ
            document.getElementById('start-screen').style.display = 'block';
            document.getElementById('question-screen').style.display = 'none';
            document.getElementById('result-screen').style.display = 'none';
        });
    </script>
</body>
</html>