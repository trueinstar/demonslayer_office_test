<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê·€ë©¸ì˜ ì¹¼ë‚  ì§ì¥ì¸ ì„±í–¥ í…ŒìŠ¤íŠ¸</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            max-width: 600px;
            width: 90%;
            overflow: hidden;
            position: relative;
        }

        .start-screen, .question-screen, .result-screen {
            padding: 40px;
            text-align: center;
        }

        .start-screen h1 {
            font-size: 2.5rem;
            color: #333;
            margin-bottom: 20px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .start-image {
            width: 300px;
            height: 300px;
            margin: 30px auto;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .start-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .btn {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 10px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }

        .question-container {
            display: none;
        }

        .question-container.active {
            display: block;
        }

        .question-header {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            padding: 20px;
            margin: -40px -40px 30px -40px;
        }

        .question-number {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .question-text {
            font-size: 1.5rem;
            margin-top: 10px;
            font-weight: 600;
        }

        .answers {
            display: grid;
            gap: 15px;
            margin: 30px 0;
        }

        .answer-btn {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            padding: 20px;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
        }

        .answer-btn:hover {
            background: #e9ecef;
            border-color: #667eea;
            transform: translateY(-2px);
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #e9ecef;
        }

        .nav-btn {
            background: #6c757d;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .nav-btn:hover:not(:disabled) {
            background: #495057;
            transform: translateY(-1px);
        }

        .nav-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .result-screen {
            display: none;
        }

        .result-screen.active {
            display: block;
        }

        .result-character {
            margin: 30px 0;
        }

        .character-name {
            font-size: 2rem;
            color: #333;
            margin-bottom: 5px;
        }

        .character-title {
            font-size: 1.3rem;
            color: #667eea;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .character-subtitle {
            font-size: 1.1rem;
            color: #6c757d;
            margin-bottom: 20px;
        }

        .result-image {
            width: 300px;
            height: 300px;
            margin: 20px auto;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .result-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .character-description {
            font-size: 1.1rem;
            line-height: 1.6;
            color: #333;
            margin: 20px 0;
            text-align: left;
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
        }

        .compatibility-section {
            margin: 30px 0;
        }

        .compatibility-title {
            font-size: 1.3rem;
            margin-bottom: 15px;
            color: #333;
        }

        .compatibility-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }

        .compatibility-item {
            text-align: center;
        }

        .compatibility-item h4 {
            margin-bottom: 10px;
            color: #28a745;
        }

        .compatibility-item.incompatible h4 {
            color: #dc3545;
        }

        .compat-images {
            display: flex;
            gap: 10px;
            justify-content: center;
        }

        .compat-image {
            width: 120px;
            height: 120px;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .compat-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .result-actions {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 30px;
        }

        .hidden {
            display: none !important;
        }

        .emoji {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        @media (max-width: 768px) {
            .container {
                width: 95%;
                margin: 20px;
            }
            
            .start-screen, .question-screen, .result-screen {
                padding: 20px;
            }
            
            .start-image, .result-image {
                width: 250px;
                height: 250px;
            }
            
            .compat-image {
                width: 100px;
                height: 100px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- ì‹œì‘ í™”ë©´ -->
        <div id="startScreen" class="start-screen">
            <h1>ê·€ë©¸ì˜ ì¹¼ë‚  ì§ì¥ì¸ ì„±í–¥ í…ŒìŠ¤íŠ¸</h1>
            <div class="start-image">
                <img src="images/start/main.jpg" alt="ì‹œì‘ ì´ë¯¸ì§€" onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjMwMCIgdmlld0JveD0iMCAwIDMwMCAzMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIzMDAiIGhlaWdodD0iMzAwIiBmaWxsPSIjZjBmMGYwIi8+Cjx0ZXh0IHg9IjE1MCIgeT0iMTUwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNiIgZmlsbD0iIzk5OTk5OSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPuydtOuvuOyngDwvdGV4dD4KPHN2Zz4K'">
            </div>
            <p style="font-size: 1.2rem; color: #666; margin: 20px 0;">ë‹¹ì‹ ì˜ ì§ì¥ ë‚´ ì„±í–¥ì„ ì•Œì•„ë³´ì„¸ìš”!</p>
            <button class="btn" onclick="startTest()">í…ŒìŠ¤íŠ¸ ì‹œì‘í•˜ê¸°</button>
        </div>

        <!-- ì§ˆë¬¸ í™”ë©´ -->
        <div id="questionScreen" class="question-screen hidden">
            <div class="question-header">
                <div class="question-number">ì§ˆë¬¸ <span id="currentQuestionNum">1</span> / 12</div>
                <div class="question-text" id="questionText">ì§ˆë¬¸ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤</div>
            </div>
            
            <div class="answers" id="answersContainer">
                <!-- ë‹µë³€ ì˜µì…˜ë“¤ì´ ë™ì ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
            </div>

            <div class="navigation">
                <button class="nav-btn" id="prevBtn" onclick="previousQuestion()" disabled>ì´ì „</button>
                <div style="text-align: center;">
                    <div style="font-size: 0.9rem; color: #666;">ì§„í–‰ë¥ </div>
                    <div style="background: #e9ecef; height: 8px; width: 200px; border-radius: 4px; margin: 5px auto;">
                        <div id="progressBar" style="background: linear-gradient(45deg, #667eea, #764ba2); height: 100%; border-radius: 4px; width: 8.33%; transition: width 0.3s ease;"></div>
                    </div>
                </div>
                <button class="nav-btn" id="nextBtn" onclick="nextQuestion()" disabled>ë‹¤ìŒ</button>
            </div>
        </div>

        <!-- ê²°ê³¼ í™”ë©´ -->
        <div id="resultScreen" class="result-screen">
            <div class="emoji" id="resultEmoji">ğŸŒ±</div>
            <h2 class="character-name" id="characterName">ìºë¦­í„° ì´ë¦„</h2>
            <h3 class="character-title" id="characterTitle">ì§ì—… íƒ€ì´í‹€</h3>
            <h4 class="character-subtitle" id="characterSubtitle">ë¶€ì œëª©</h4>
            
            <div class="result-image">
                <img id="resultImage" src="" alt="ê²°ê³¼ ìºë¦­í„°">
            </div>
            
            <div class="character-description" id="characterDescription">
                ìºë¦­í„° ì„¤ëª…ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.
            </div>

            <div class="compatibility-section">
                <div class="compatibility-grid">
                    <div class="compatibility-item">
                        <h4>âœ¨ ë‚˜ì™€ ì˜ ë§ëŠ” ì„±í–¥</h4>
                        <div class="compat-images" id="compatibleImages">
                            <!-- ê¶í•©ì´ ì¢‹ì€ ìºë¦­í„° ì´ë¯¸ì§€ë“¤ -->
                        </div>
                    </div>
                    <div class="compatibility-item incompatible">
                        <h4>âš¡ ë‚˜ì™€ ì•ˆ ë§ëŠ” ì„±í–¥</h4>
                        <div class="compat-images" id="incompatibleImages">
                            <!-- ê¶í•©ì´ ì•ˆ ì¢‹ì€ ìºë¦­í„° ì´ë¯¸ì§€ë“¤ -->
                        </div>
                    </div>
                </div>
            </div>

            <div class="result-actions">
                <button class="btn" onclick="restartTest()">ë‹¤ì‹œ í…ŒìŠ¤íŠ¸í•˜ê¸°</button>
                <button class="btn" onclick="shareResult()">ì¹œêµ¬ì—ê²Œ ê³µìœ í•˜ê¸°</button>
            </div>
        </div>
    </div>

    <script>
        // ìºë¦­í„° ë°ì´í„°
        const characters = {
            tanjiro: {
                name: 'ì¹´ë§ˆë„ íƒ„ì§€ë¡œ',
                title: 'íŒ€ì›Œí¬ì˜ ë‹¬ì¸',
                subtitle: 'í”„ë¡œì íŠ¸ ë§¤ë‹ˆì €',
                emoji: 'ğŸŒ±',
                description: 'ë‹¹ì‹ ì€ íŒ€ì›Œí¬ë¥¼ ì¤‘ì‹œí•˜ê³  ëª¨ë“  êµ¬ì„±ì›ì„ ë°°ë ¤í•˜ëŠ” ì™„ë²½í•œ í”„ë¡œì íŠ¸ ë§¤ë‹ˆì €ì…ë‹ˆë‹¤. ì–´ë ¤ìš´ ìƒí™©ì—ì„œë„ í¬ê¸°í•˜ì§€ ì•ŠëŠ” ëˆê¸°ì™€ íŒ€ì›ë“¤ì„ í•˜ë‚˜ë¡œ ë¬¶ëŠ” íŠ¹ë³„í•œ ëŠ¥ë ¥ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. ê°ˆë“± ìƒí™©ì—ì„œëŠ” ì¤‘ì¬ì ì—­í• ì„ í•˜ë©°, í•­ìƒ ê¸ì •ì ì¸ ì—ë„ˆì§€ë¡œ íŒ€ ë¶„ìœ„ê¸°ë¥¼ ì´ëŒì–´ê°‘ë‹ˆë‹¤.',
                compatible: ['nezuko', 'mitsuri'],
                incompatible: ['muzan', 'sanemi']
            },
            nezuko: {
                name: 'ì¹´ë§ˆë„ ë„¤ì¦ˆì½”',
                title: 'ë¬µë¬µí•œ ì§€ì›ì',
                subtitle: 'ë°±ì˜¤í”¼ìŠ¤ ì „ë¬¸ê°€',
                emoji: 'ğŸŒ¸',
                description: 'ë‹¹ì‹ ì€ ë§ë³´ë‹¤ëŠ” í–‰ë™ìœ¼ë¡œ ë³´ì—¬ì£¼ëŠ” ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ë°±ì˜¤í”¼ìŠ¤ ì „ë¬¸ê°€ì…ë‹ˆë‹¤. í™”ë ¤í•˜ì§€ ì•Šì§€ë§Œ ê¼­ í•„ìš”í•œ ì—…ë¬´ë¥¼ ì™„ë²½í•˜ê²Œ ì²˜ë¦¬í•˜ë©°, íŒ€ì›ë“¤ì´ ì•ˆì‹¬í•˜ê³  ì¼í•  ìˆ˜ ìˆëŠ” ë“ ë“ í•œ ì§€ì›ì„ ì œê³µí•©ë‹ˆë‹¤. ì¡°ìš©í•˜ì§€ë§Œ ê°•í•œ ì˜ì§€ë ¥ìœ¼ë¡œ ì–´ë–¤ ë‚œê´€ë„ ê·¹ë³µí•´ëƒ…ë‹ˆë‹¤.',
                compatible: ['tanjiro', 'giyu'],
                incompatible: ['tengen', 'inosuke']
            },
            zenitsu: {
                name: 'ì•„ê°€ì¸ ë§ˆ ì  ì´ì¸ ',
                title: 'ì™„ë²½ì£¼ì˜ì',
                subtitle: 'í’ˆì§ˆê´€ë¦¬ ì „ë¬¸ê°€',
                emoji: 'âš¡',
                description: 'ë‹¹ì‹ ì€ ë””í…Œì¼ì— ê°•í•˜ê³  í’ˆì§ˆì— ëŒ€í•œ ë†’ì€ ê¸°ì¤€ì„ ê°€ì§„ ì™„ë²½ì£¼ì˜ìì…ë‹ˆë‹¤. í‰ì†Œì—ëŠ” ê±±ì •ì´ ë§ì§€ë§Œ, ì¤‘ìš”í•œ ìˆœê°„ì—ëŠ” ë†€ë¼ìš´ ì§‘ì¤‘ë ¥ê³¼ ì „ë¬¸ì„±ì„ ë°œíœ˜í•©ë‹ˆë‹¤. ì‹¤ìˆ˜ë¥¼ ìš©ë‚©í•˜ì§€ ì•ŠëŠ” ì² ì €í•¨ìœ¼ë¡œ ìµœê³  í’ˆì§ˆì˜ ê²°ê³¼ë¬¼ì„ ë§Œë“¤ì–´ëƒ…ë‹ˆë‹¤.',
                compatible: ['shinobu', 'mitsuri'],
                incompatible: ['inosuke', 'sanemi']
            },
            inosuke: {
                name: 'í•˜ì‹œë¹„ë¼ ì´ë…¸ìŠ¤ì¼€',
                title: 'ë„ì „ì •ì‹  ë„˜ì¹˜ëŠ”',
                subtitle: 'ì˜ì—…íŒ€ ì—ì´ìŠ¤',
                emoji: 'ğŸ—',
                description: 'ë‹¹ì‹ ì€ ë„˜ì¹˜ëŠ” ì—ë„ˆì§€ì™€ ë„ì „ì •ì‹ ìœ¼ë¡œ ë¬´ì¥í•œ ì˜ì—…íŒ€ì˜ ì—ì´ìŠ¤ì…ë‹ˆë‹¤. ì–´ë–¤ ì–´ë ¤ìš´ ê³ ê°ì´ë¼ë„ ì •ë©´ìŠ¹ë¶€ë¡œ ëŒíŒŒí•˜ë©°, ê²½ìŸ ìƒí™©ì—ì„œ ë”ìš± ë¹›ì„ ë°œí•©ë‹ˆë‹¤. ë•Œë¡œëŠ” ë¬´ëª¨í•´ ë³´ì¼ ìˆ˜ ìˆì§€ë§Œ, ê·¸ ì—´ì •ê³¼ ì¶”ì§„ë ¥ìœ¼ë¡œ ë¶ˆê°€ëŠ¥ì„ ê°€ëŠ¥í•˜ê²Œ ë§Œë“­ë‹ˆë‹¤.',
                compatible: ['tanjiro', 'rengoku'],
                incompatible: ['giyu', 'nezuko']
            },
            giyu: {
                name: 'í† ë¯¸ì˜¤ì¹´ ê¸°ìœ ',
                title: 'ëƒ‰ì² í•œ ë¶„ì„ê°€',
                subtitle: 'ì „ëµê¸°íšíŒ€ì¥',
                emoji: 'ğŸŒŠ',
                description: 'ë‹¹ì‹ ì€ ê°ì •ì— íœ˜ë‘˜ë¦¬ì§€ ì•Šê³  ëƒ‰ì² í•˜ê²Œ ìƒí™©ì„ ë¶„ì„í•˜ëŠ” ì „ëµê¸°íš ì „ë¬¸ê°€ì…ë‹ˆë‹¤. ë§ìˆ˜ëŠ” ì ì§€ë§Œ í•µì‹¬ì„ ì •í™•íˆ íŒŒì•…í•˜ê³ , ë…¼ë¦¬ì ì´ê³  ì²´ê³„ì ì¸ ì ‘ê·¼ìœ¼ë¡œ ìµœì ì˜ í•´ê²°ì±…ì„ ì œì‹œí•©ë‹ˆë‹¤. í˜¼ìì„œë„ ë¬µë¬µíˆ ì„±ê³¼ë¥¼ ë§Œë“¤ì–´ë‚´ëŠ” ë…ë¦½ì ì¸ ì—…ë¬´ ìŠ¤íƒ€ì¼ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.',
                compatible: ['nezuko', 'muichiro'],
                incompatible: ['tengen', 'mitsuri']
            },
            rengoku: {
                name: 'ë Œê³ ì¿  ì¿„ì¥¬ë¡œ',
                title: 'ì—´ì •ì ì¸ ë¦¬ë”',
                subtitle: 'íŒ€ì¥',
                emoji: 'ğŸ”¥',
                description: 'ë‹¹ì‹ ì€ ë¶ˆíƒ€ëŠ” ì—´ì •ìœ¼ë¡œ íŒ€ì„ ì´ë„ëŠ” ì²œìƒ ë¦¬ë”ì…ë‹ˆë‹¤. ê¸ì •ì ì¸ ì—ë„ˆì§€ì™€ ê°•í•œ ì‹ ë…ìœ¼ë¡œ íŒ€ì›ë“¤ì—ê²Œ ì˜ê°ì„ ì£¼ë©°, ì–´ë ¤ìš´ ìƒí™©ì—ì„œë„ í¬ë§ì„ ìƒì§€ ì•ŠìŠµë‹ˆë‹¤. ì†”ì„ ìˆ˜ë²”í•˜ëŠ” ëª¨ìŠµìœ¼ë¡œ íŒ€ì›ë“¤ì˜ ì¡´ê²½ì„ ë°›ê³ , ëª¨ë“  ì‚¬ëŒì˜ ì„±ì¥ì„ ì§„ì‹¬ìœ¼ë¡œ ì‘ì›í•©ë‹ˆë‹¤.',
                compatible: ['inosuke', 'mitsuri'],
                incompatible: ['muzan', 'akaza']
            },
            tengen: {
                name: 'ìš°ì¦ˆì´ í…ê²',
                title: 'í™”ë ¤í•œ í¬ë¦¬ì—ì´í„°',
                subtitle: 'ë§ˆì¼€íŒ… ë””ë ‰í„°',
                emoji: 'ğŸ’',
                description: 'ë‹¹ì‹ ì€ ì°½ì˜ì„±ê³¼ í™”ë ¤í•¨ì„ ê²¸ë¹„í•œ ë§ˆì¼€íŒ…ì˜ ë‹¬ì¸ì…ë‹ˆë‹¤. ë…íŠ¹í•˜ê³  ì„íŒ©íŠ¸ ìˆëŠ” ì•„ì´ë””ì–´ë¡œ ì‚¬ëŒë“¤ì˜ ê´€ì‹¬ì„ ì‚¬ë¡œì¡ìœ¼ë©°, íŠ¸ë Œë“œë¥¼ ì„ ë„í•˜ëŠ” ê°ê°ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. ìì‹ ê° ë„˜ì¹˜ëŠ” ìŠ¤íƒ€ì¼ë¡œ ë¸Œëœë“œì˜ ê°€ì¹˜ë¥¼ ë†’ì´ê³ , ì‹œì¥ì—ì„œ ì°¨ë³„í™”ëœ í¬ì§€ì…˜ì„ ë§Œë“¤ì–´ëƒ…ë‹ˆë‹¤.',
                compatible: ['shinobu', 'mitsuri'],
                incompatible: ['giyu', 'muichiro']
            },
            shinobu: {
                name: 'ì½”ìµ¸ ì‹œë…¸ë¶€',
                title: 'ì „ëµì  ê¸°íšì',
                subtitle: 'ê²½ì˜ì „ëµíŒ€',
                emoji: 'ğŸ¦‹',
                description: 'ë‹¹ì‹ ì€ ìš°ì•„í•˜ë©´ì„œë„ ë‚ ì¹´ë¡œìš´ í†µì°°ë ¥ì„ ê°€ì§„ ì „ëµì  ì‚¬ê³ ì˜ ì „ë¬¸ê°€ì…ë‹ˆë‹¤. ê²‰ìœ¼ë¡œëŠ” ë¶€ë“œëŸ½ì§€ë§Œ ì†ìœ¼ë¡œëŠ” ì¹˜ë°€í•˜ê²Œ ê³„íšì„ ì„¸ìš°ë©°, ìƒëŒ€ë°©ì˜ ì‹¬ë¦¬ë¥¼ ì •í™•íˆ íŒŒì•…í•˜ì—¬ ìµœì ì˜ ì „ëµì„ ìˆ˜ë¦½í•©ë‹ˆë‹¤. ë³µì¡í•œ ìƒí™©ì—ì„œë„ ì¹¨ì°©í•˜ê²Œ í•µì‹¬ì„ ì°¾ì•„ë‚´ëŠ” ëŠ¥ë ¥ì´ ë›°ì–´ë‚©ë‹ˆë‹¤.',
                compatible: ['zenitsu', 'tengen'],
                incompatible: ['inosuke', 'rengoku']
            },
            muichiro: {
                name: 'í† í‚¤í†  ë¬´ì´ì¹˜ë¡œ',
                title: 'ì§‘ì¤‘ë ¥ì˜ ë‹¬ì¸',
                subtitle: 'ê°œë°œì',
                emoji: 'â˜ï¸',
                description: 'ë‹¹ì‹ ì€ ë†€ë¼ìš´ ì§‘ì¤‘ë ¥ìœ¼ë¡œ ë³µì¡í•œ ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ê°œë°œ ì „ë¬¸ê°€ì…ë‹ˆë‹¤. ì£¼ë³€ì˜ ì†ŒìŒì— í”ë“¤ë¦¬ì§€ ì•Šê³  ìì‹ ë§Œì˜ ì„¸ê³„ì—ì„œ ëª°ì…í•˜ì—¬ ë›°ì–´ë‚œ ê²°ê³¼ë¬¼ì„ ë§Œë“¤ì–´ëƒ…ë‹ˆë‹¤. ë•Œë¡œëŠ” ëª½í™˜ì ìœ¼ë¡œ ë³´ì¼ ìˆ˜ ìˆì§€ë§Œ, í•µì‹¬ ìˆœê°„ì—ëŠ” ë²ˆê°œ ê°™ì€ ì§ê°ê³¼ ì‹¤í–‰ë ¥ì„ ë³´ì—¬ì¤ë‹ˆë‹¤.',
                compatible: ['giyu', 'gyomei'],
                incompatible: ['tengen', 'sanemi']
            },
            mitsuri: {
                name: 'ì¹¸ë¡œì§€ ë¯¸ì¸ ë¦¬',
                title: 'ì†Œí†µì˜ ì „ë¬¸ê°€',
                subtitle: 'ì¸ì‚¬íŒ€ ë§¤ë‹ˆì €',
                emoji: 'ğŸ’•',
                description: 'ë‹¹ì‹ ì€ ë°ê³  ë”°ëœ»í•œ ì„±ê²©ìœ¼ë¡œ ì‚¬ëŒë“¤ê³¼ì˜ ì†Œí†µì„ ì¦ê¸°ëŠ” ì¸ì‚¬ ì „ë¬¸ê°€ì…ë‹ˆë‹¤. íŒ€ì›ë“¤ì˜ ê³ ë¯¼ì„ ì§„ì‹¬ìœ¼ë¡œ ë“¤ì–´ì£¼ê³ , ëª¨ë“  ì‚¬ëŒì´ í¸ì•ˆí•˜ê²Œ ì¼í•  ìˆ˜ ìˆëŠ” í™˜ê²½ì„ ë§Œë“­ë‹ˆë‹¤. ê°•í•œ ê³µê° ëŠ¥ë ¥ê³¼ í¬ìš©ë ¥ìœ¼ë¡œ ì¡°ì§ì˜ í™”í•©ì„ ì´ëŒì–´ë‚´ëŠ” íŠ¹ë³„í•œ ì¬ëŠ¥ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.',
                compatible: ['tanjiro', 'rengoku'],
                incompatible: ['giyu', 'akaza']
            },
            sanemi: {
                name: 'ì‹œë‚˜ì¦ˆê°€ì™€ ì‚¬ë„¤ë¯¸',
                title: 'ê°•ì¸í•œ ì‹¤í–‰ì',
                subtitle: 'í˜„ì¥ê´€ë¦¬íŒ€ì¥',
                emoji: 'ğŸ’¨',
                description: 'ë‹¹ì‹ ì€ ê±°ì¹œ ì™¸ëª¨ ë’¤ì— ê°•í•œ ì±…ì„ê°ì„ ê°€ì§„ í˜„ì¥ ê´€ë¦¬ì˜ ì „ë¬¸ê°€ì…ë‹ˆë‹¤. íƒ€í˜‘í•˜ì§€ ì•ŠëŠ” ì›ì¹™ì£¼ì˜ìë¡œì„œ í’ˆì§ˆê³¼ ì•ˆì „ì— ëŒ€í•œ ê¸°ì¤€ì´ ë§¤ìš° ë†’ìœ¼ë©°, ì–´ë ¤ìš´ ìƒí™©ì—ì„œë„ íŒ€ì„ ë³´í˜¸í•˜ê¸° ìœ„í•´ ì•ì¥ì„­ë‹ˆë‹¤. ì§ì„¤ì ì¸ ì†Œí†µ ë°©ì‹ì´ì§€ë§Œ ì§„ì‹¬ì–´ë¦° ë°°ë ¤ê°€ ë‹´ê²¨ìˆìŠµë‹ˆë‹¤.',
                compatible: ['gyomei', 'inosuke'],
                incompatible: ['tanjiro', 'zenitsu']
            },
            gyomei: {
                name: 'íˆë©”ì§€ë§ˆ êµë©”ì´',
                title: 'ì‹ ì¤‘í•œ ê´€ë¦¬ì',
                subtitle: 'ìš´ì˜ì´ê´„ì„ì›',
                emoji: 'ğŸ”ï¸',
                description: 'ë‹¹ì‹ ì€ ê¹Šì€ ê²½í—˜ê³¼ í†µì°°ë ¥ì„ ë°”íƒ•ìœ¼ë¡œ ì¡°ì§ ì „ì²´ë¥¼ ê´€ë¦¬í•˜ëŠ” ìš´ì˜ ì´ê´„ ì „ë¬¸ê°€ì…ë‹ˆë‹¤. ì‹ ì¤‘í•˜ê³  ì‚¬ë ¤ê¹Šì€ íŒë‹¨ìœ¼ë¡œ í° ê·¸ë¦¼ì„ ê·¸ë¦¬ë©°, ëª¨ë“  ê²°ì •ì— ì±…ì„ì„ ì§‘ë‹ˆë‹¤. íŒ€ì›ë“¤ì—ê²ŒëŠ” ë“ ë“ í•œ ë²„íŒ€ëª©ì´ ë˜ì–´ì£¼ë©°, ìœ„ê¸° ìƒí™©ì—ì„œë„ í”ë“¤ë¦¬ì§€ ì•ŠëŠ” ì•ˆì •ê°ì„ ì œê³µí•©ë‹ˆë‹¤.',
                compatible: ['muichiro', 'tanjiro'],
                incompatible: ['muzan', 'tengen']
            },
            muzan: {
                name: 'í‚¤ë¶€ì¸ ì§€ ë¬´ì”',
                title: 'ì ˆëŒ€ì  ê¶Œë ¥ì',
                subtitle: 'CEO',
                emoji: 'ğŸ‘‘',
                description: 'ë‹¹ì‹ ì€ ì¹´ë¦¬ìŠ¤ë§ˆì™€ ê°•ë ¥í•œ ë¦¬ë”ì‹­ìœ¼ë¡œ ì¡°ì§ì„ ì´ë„ëŠ” ìµœê³ ê²½ì˜ìì…ë‹ˆë‹¤. ë†’ì€ ê¸°ì¤€ê³¼ ì™„ë²½ì„ ì¶”êµ¬í•˜ë©°, ê²°ê³¼ì— ëŒ€í•œ ì±…ì„ì„ ì² ì €íˆ ì§‘ë‹ˆë‹¤. ë•Œë¡œëŠ” ëƒ‰í˜¹í•´ ë³´ì¼ ìˆ˜ ìˆì§€ë§Œ, ì¡°ì§ì˜ ì„±ê³µì„ ìœ„í•´ì„œëŠ” ì–´ë–¤ ì–´ë ¤ìš´ ê²°ì •ë„ ë‚´ë¦´ ìˆ˜ ìˆëŠ” ê°•í•œ ì˜ì§€ë ¥ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.',
                compatible: ['akaza', 'iguro'],
                incompatible: ['tanjiro', 'rengoku']
            },
            akaza: {
                name: 'ì•„ì¹´ì',
                title: 'ì„±ê³¼ì£¼ì˜ì',
                subtitle: 'ì˜ì—…ì´ê´„',
                emoji: 'ğŸ‘Š',
                description: 'ë‹¹ì‹ ì€ ëì—†ëŠ” ì„±ì¥ ìš•êµ¬ì™€ ê²½ìŸì‹¬ìœ¼ë¡œ ë¬´ì¥í•œ ì˜ì—… ì´ê´„ ì „ë¬¸ê°€ì…ë‹ˆë‹¤. ëª©í‘œ ë‹¬ì„±ì— ëŒ€í•œ ì§‘ì°©ì´ ê°•í•˜ë©°, ìì‹ ê³¼ íŒ€ì˜ í•œê³„ë¥¼ ë›°ì–´ë„˜ê¸° ìœ„í•´ ëŠì„ì—†ì´ ë…¸ë ¥í•©ë‹ˆë‹¤. ê°•í•œ ì‹¤ì  ì••ë°• ì†ì—ì„œë„ ë” ë†’ì€ ì„±ê³¼ë¥¼ í–¥í•´ ì „ì§„í•˜ëŠ” ë¶ˆêµ´ì˜ ì •ì‹ ë ¥ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.',
                compatible: ['muzan', 'sanemi'],
                incompatible: ['mitsuri', 'rengoku']
            },
            iguro: {
                name: 'ì´êµ¬ë¡œ ì˜¤ë°”ë‚˜ì´',
                title: 'ì—„ê²©í•œ ê´€ë¦¬ì',
                subtitle: 'ì»´í”Œë¼ì´ì–¸ìŠ¤ íŒ€ì¥',
                emoji: 'ğŸ',
                description: 'ë‹¹ì‹ ì€ ë†’ì€ ê¸°ì¤€ê³¼ ì² ì €í•œ ì›ì¹™ìœ¼ë¡œ ë¬´ì¥í•œ ì»´í”Œë¼ì´ì–¸ìŠ¤ ì „ë¬¸ê°€ì…ë‹ˆë‹¤. ì„¸ì‹¬í•œ ê´€ì°°ë ¥ìœ¼ë¡œ ì‘ì€ í—ˆì ë„ ë†“ì¹˜ì§€ ì•Šìœ¼ë©°, ê·œì •ê³¼ ì ˆì°¨ë¥¼ ì™„ë²½í•˜ê²Œ ì¤€ìˆ˜í•©ë‹ˆë‹¤. ë•Œë¡œëŠ” ê¹Œë‹¤ë¡­ê²Œ ëŠê»´ì§ˆ ìˆ˜ ìˆì§€ë§Œ, ì¡°ì§ì˜ ë¦¬ìŠ¤í¬ë¥¼ ì‚¬ì „ì— ì°¨ë‹¨í•˜ê³  í’ˆì§ˆì„ ë³´ì¥í•˜ëŠ” í•µì‹¬ì ì¸ ì—­í• ì„ ë‹´ë‹¹í•©ë‹ˆë‹¤. ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ì‚¬ëŒì—ê²Œë§Œ ë§ˆìŒì„ ì—¬ëŠ” ì‹ ì¤‘í•˜ê³  ì™„ê³ í•œ ì „ë¬¸ê°€ì…ë‹ˆë‹¤.',
                compatible: ['muzan', 'shinobu'],
                incompatible: ['inosuke', 'tengen']
            }
        };

        // ì§ˆë¬¸ ë°ì´í„°
        const questions = [
            {
                question: "ìƒˆë¡œìš´ í”„ë¡œì íŠ¸ê°€ ì‹œì‘ë  ë•Œ, ë‹¹ì‹ ì˜ ì²« ë²ˆì§¸ í–‰ë™ì€?",
                answers: [
                    { text: "íŒ€ì›ë“¤ê³¼ í•¨ê»˜ ë¸Œë ˆì¸ìŠ¤í† ë° ì„¸ì…˜ì„ ì§„í–‰í•œë‹¤", scores: { tanjiro: 3, mitsuri: 2, rengoku: 2 } },
                    { text: "í˜¼ìì„œ ì² ì €íˆ ê³„íšì„ ì„¸ìš´ í›„ íŒ€ì— ì œì‹œí•œë‹¤", scores: { giyu: 3, muichiro: 2, shinobu: 2 } },
                    { text: "ë°”ë¡œ ì‹¤í–‰ì— ì˜®ê¸°ë©° ì§„í–‰í•˜ë©´ì„œ ìˆ˜ì •í•œë‹¤", scores: { inosuke: 3, sanemi: 2, akaza: 2 } },
                    { text: "ê¸°ì¡´ ì‚¬ë¡€ë¥¼ ë¶„ì„í•˜ê³  ì²´ê³„ì ìœ¼ë¡œ ì ‘ê·¼í•œë‹¤", scores: { gyomei: 3, iguro: 2, nezuko: 2 } }
                ]
            },
            {
                question: "íšŒì˜ì—ì„œ ì˜ê²¬ ì¶©ëŒì´ ë°œìƒí–ˆì„ ë•Œ, ë‹¹ì‹ ì€?",
                answers: [
                    { text: "ì¤‘ì¬ì ì—­í• ì„ í•˜ë©° ëª¨ë‘ê°€ ë§Œì¡±í•  í•´ê²°ì±…ì„ ì°¾ëŠ”ë‹¤", scores: { tanjiro: 3, mitsuri: 2, gyomei: 1 } },
                    { text: "ë…¼ë¦¬ì  ê·¼ê±°ë¥¼ ì œì‹œí•˜ë©° ìµœì ì˜ ë°©ì•ˆì„ ì„¤ë“í•œë‹¤", scores: { giyu: 3, shinobu: 2, muichiro: 1 } },
                    { text: "ê°•í•˜ê²Œ ë‚´ ì˜ê²¬ì„ ì£¼ì¥í•˜ë©° ë°€ì–´ë¶™ì¸ë‹¤", scores: { inosuke: 3, sanemi: 2, muzan: 2 } },
                    { text: "ì¡°ìš©íˆ ë“£ê³  ìˆë‹¤ê°€ ì ì ˆí•œ íƒ€ì´ë°ì— ì˜ê²¬ì„ ì œì‹œí•œë‹¤", scores: { nezuko: 3, zenitsu: 2, iguro: 1 } }
                ]
            },
            {
                question: "ì—…ë¬´ ìŠ¤íƒ€ì¼ì—ì„œ ê°€ì¥ ì¤‘ìš”í•˜ê²Œ ìƒê°í•˜ëŠ” ê²ƒì€?",
                answers: [
                    { text: "íŒ€ì›ë“¤ê³¼ì˜ í˜‘ë ¥ê³¼ ì†Œí†µ", scores: { tanjiro: 3, mitsuri: 3, rengoku: 2 } },
                    { text: "ì •í™•ì„±ê³¼ ì™„ë²½í•œ ê²°ê³¼ë¬¼", scores: { zenitsu: 3, iguro: 2, giyu: 2 } },
                    { text: "ë¹ ë¥¸ ì‹¤í–‰ë ¥ê³¼ ê²°ê³¼ ë„ì¶œ", scores: { inosuke: 3, akaza: 3, sanemi: 2 } },
                    { text: "ì²´ê³„ì ì¸ ê³„íšê³¼ ì•ˆì •ì„±", scores: { gyomei: 3, nezuko: 2, muichiro: 2 } }
                ]
            },
            {
                question: "ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ ë°›ëŠ” ìƒí™©ì—ì„œ ë‹¹ì‹ ì˜ ë°˜ì‘ì€?",
                answers: [
                    { text: "íŒ€ì›ë“¤ê³¼ ëŒ€í™”í•˜ë©° í•¨ê»˜ í•´ê²°ì±…ì„ ì°¾ëŠ”ë‹¤", scores: { tanjiro: 3, mitsuri: 2, rengoku: 1 } },
                    { text: "í˜¼ìë§Œì˜ ì‹œê°„ì„ ê°€ì§€ë©° ì°¨ë¶„íˆ ì •ë¦¬í•œë‹¤", scores: { giyu: 3, muichiro: 3, nezuko: 2 } },
                    { text: "ë”ìš± ì ê·¹ì ìœ¼ë¡œ ë¬¸ì œì— ë§ì„œ í•´ê²°í•œë‹¤", scores: { inosuke: 3, sanemi: 2, akaza: 2 } },
                    { text: "ì„¸ì‹¬í•˜ê²Œ ëª¨ë“  ê°€ëŠ¥ì„±ì„ ê²€í† í•œë‹¤", scores: { zenitsu: 3, shinobu: 2, iguro: 2 } }
                ]
            },
            {
                question: "íŒ€ ë‚´ì—ì„œ ë‹¹ì‹ ì˜ ì—­í• ì€?",
                answers: [
                    { text: "íŒ€ì›ë“¤ì„ ê²©ë ¤í•˜ê³  ë™ê¸°ë¶€ì—¬í•˜ëŠ” ë¦¬ë”", scores: { rengoku: 3, tanjiro: 2, mitsuri: 2 } },
                    { text: "ë¬µë¬µíˆ ë’·ë°”ë¼ì§€í•˜ëŠ” ë“ ë“ í•œ ì§€ì›ì", scores: { nezuko: 3, gyomei: 2, giyu: 1 } },
                    { text: "ì°½ì˜ì  ì•„ì´ë””ì–´ë¥¼ ì œì‹œí•˜ëŠ” ê¸°íšì", scores: { tengen: 3, shinobu: 2, muichiro: 1 } },
                    { text: "í’ˆì§ˆê³¼ ì™„ì„±ë„ë¥¼ ì±…ì„ì§€ëŠ” ê´€ë¦¬ì", scores: { zenitsu: 3, iguro: 2, sanemi: 2 } }
                ]
            },
            {
                question: "ìƒˆë¡œìš´ ì•„ì´ë””ì–´ë‚˜ ì œì•ˆì„ ë°›ì•˜ì„ ë•Œ?",
                answers: [
                    { text: "ì¼ë‹¨ ê¸ì •ì ìœ¼ë¡œ ë°›ì•„ë“¤ì´ê³  í•¨ê»˜ ë°œì „ì‹œí‚¨ë‹¤", scores: { tanjiro: 3, mitsuri: 3, rengoku: 2 } },
                    { text: "ì‹ ì¤‘í•˜ê²Œ ê²€í† í•œ í›„ ì˜ê²¬ì„ ì œì‹œí•œë‹¤", scores: { gyomei: 3, giyu: 2, iguro: 2 } },
                    { text: "ë°”ë¡œ ì‹¤í–‰ ê°€ëŠ¥ì„±ì„ ë”°ì ¸ë³´ë©° í˜„ì‹¤ì ìœ¼ë¡œ ì ‘ê·¼í•œë‹¤", scores: { sanemi: 3, akaza: 2, nezuko: 1 } },
                    { text: "ë” ì°½ì˜ì ì´ê³  ë…íŠ¹í•œ ë°©í–¥ìœ¼ë¡œ ë°œì „ì‹œí‚¨ë‹¤", scores: { tengen: 3, shinobu: 2, muichiro: 1 } }
                ]
            },
            {
                question: "ì‹¤íŒ¨ë‚˜ ì‹¤ìˆ˜ë¥¼ í–ˆì„ ë•Œì˜ ë‹¹ì‹ ì˜ í–‰ë™ì€?",
                answers: [
                    { text: "íŒ€ì›ë“¤ì—ê²Œ ì‚¬ê³¼í•˜ê³  í•¨ê»˜ í•´ê²°ì±…ì„ ì°¾ëŠ”ë‹¤", scores: { tanjiro: 3, mitsuri: 2, gyomei: 1 } },
                    { text: "ì›ì¸ì„ ì² ì €íˆ ë¶„ì„í•˜ê³  ì¬ë°œ ë°©ì§€ì±…ì„ ë§ˆë ¨í•œë‹¤", scores: { zenitsu: 3, iguro: 3, giyu: 2 } },
                    { text: "ë¹ ë¥´ê²Œ ìˆ˜ìŠµí•˜ê³  ë” ê°•í•˜ê²Œ ì¬ë„ì „í•œë‹¤", scores: { inosuke: 3, sanemi: 2, akaza: 2 } },
                    { text: "ì¡°ìš©íˆ í˜¼ìì„œ ë¬¸ì œë¥¼ í•´ê²°í•œë‹¤", scores: { nezuko: 3, muichiro: 2, shinobu: 1 } }
                ]
            },
            {
                question: "ë™ë£Œì™€ì˜ ê°ˆë“± ìƒí™©ì—ì„œ?",
                answers: [
                    { text: "ì§ì ‘ ëŒ€í™”ë¥¼ í†µí•´ ì„œë¡œë¥¼ ì´í•´í•˜ë ¤ ë…¸ë ¥í•œë‹¤", scores: { tanjiro: 3, mitsuri: 3, rengoku: 2 } },
                    { text: "ê°ê´€ì ì¸ ìë£Œì™€ ì‚¬ì‹¤ë¡œ ì„¤ë“í•œë‹¤", scores: { giyu: 3, shinobu: 2, muzan: 1 } },
                    { text: "ëª…í™•í•˜ê³  ì§ì„¤ì ìœ¼ë¡œ ë‚´ ì…ì¥ì„ ì „ë‹¬í•œë‹¤", scores: { sanemi: 3, inosuke: 2, akaza: 2 } },
                    { text: "ì‹œê°„ì„ ë‘ê³  ìƒí™©ì´ ìì—°ìŠ¤ëŸ½ê²Œ í•´ê²°ë˜ê¸°ë¥¼ ê¸°ë‹¤ë¦°ë‹¤", scores: { nezuko: 3, muichiro: 2, gyomei: 1 } }
                ]
            },
            {
                question: "ì—…ë¬´ í™˜ê²½ì—ì„œ ì„ í˜¸í•˜ëŠ” ë¶„ìœ„ê¸°ëŠ”?",
                answers: [
                    { text: "í™œë°œí•˜ê³  ì—ë„ˆì§€ ë„˜ì¹˜ëŠ” ë¶„ìœ„ê¸°", scores: { rengoku: 3, inosuke: 3, mitsuri: 2 } },
                    { text: "ì¡°ìš©í•˜ê³  ì§‘ì¤‘í•  ìˆ˜ ìˆëŠ” ë¶„ìœ„ê¸°", scores: { giyu: 3, muichiro: 3, nezuko: 2 } },
                    { text: "ì°½ì˜ì ì´ê³  ììœ ë¡œìš´ ë¶„ìœ„ê¸°", scores: { tengen: 3, shinobu: 2, tanjiro: 1 } },
                    { text: "ì²´ê³„ì ì´ê³  ì•ˆì •ì ì¸ ë¶„ìœ„ê¸°", scores: { gyomei: 3, zenitsu: 2, iguro: 2 } }
                ]
            },
            {
                question: "ì¤‘ìš”í•œ ê²°ì •ì„ ë‚´ë ¤ì•¼ í•  ë•Œ?",
                answers: [
                    { text: "íŒ€ì›ë“¤ì˜ ì˜ê²¬ì„ ì¶©ë¶„íˆ ìˆ˜ë ´í•œ í›„ ê²°ì •í•œë‹¤", scores: { tanjiro: 3, mitsuri: 2, gyomei: 2 } },
                    { text: "ë°ì´í„°ì™€ ë…¼ë¦¬ì  ë¶„ì„ì„ ë°”íƒ•ìœ¼ë¡œ ê²°ì •í•œë‹¤", scores: { giyu: 3, shinobu: 3, muzan: 2 } },
                    { text: "ì§ê°ê³¼ ê²½í—˜ì„ ë¯¿ê³  ë¹ ë¥´ê²Œ ê²°ì •í•œë‹¤", scores: { inosuke: 3, rengoku: 2, akaza: 2 } },
                    { text: "ëª¨ë“  ê°€ëŠ¥ì„±ì„ ê²€í† í•˜ê³  ì‹ ì¤‘í•˜ê²Œ ê²°ì •í•œë‹¤", scores: { zenitsu: 3, iguro: 2, nezuko: 1 } }
                ]
            },
            {
                question: "ì„±ê³¼ë‚˜ ì„±ê³µì„ ì´ë¤˜ì„ ë•Œ?",
                answers: [
                    { text: "íŒ€ì›ë“¤ê³¼ í•¨ê»˜ ê¸°ì¨ì„ ë‚˜ëˆ„ê³  ëª¨ë‘ë¥¼ ê²©ë ¤í•œë‹¤", scores: { tanjiro: 3, mitsuri: 3, rengoku: 3 } },
                    { text: "ì¡°ìš©íˆ ë§Œì¡±í•˜ë©° ë‹¤ìŒ ëª©í‘œë¥¼ ì„¤ì •í•œë‹¤", scores: { giyu: 3, nezuko: 2, muichiro: 2 } },
                    { text: "ë” í° ë„ì „ê³¼ ëª©í‘œë¥¼ í–¥í•´ ì „ì§„í•œë‹¤", scores: { akaza: 3, inosuke: 2, muzan: 2 } },
                    { text: "ì™„ë²½í–ˆëŠ”ì§€ ë‹¤ì‹œ í•œ ë²ˆ ì ê²€í•œë‹¤", scores: { zenitsu: 3, iguro: 3, shinobu: 2 } }
                ]
            },
            {
                question: "ì—…ë¬´ì—ì„œ ê°€ì¥ í° ë™ê¸°ë¶€ì—¬ë¥¼ ë°›ëŠ” ìˆœê°„ì€?",
                answers: [
                    { text: "íŒ€ì›ë“¤ê³¼ í•¨ê»˜ ëª©í‘œë¥¼ ë‹¬ì„±í–ˆì„ ë•Œ", scores: { tanjiro: 3, mitsuri: 3, rengoku: 2 } },
                    { text: "ì™„ë²½í•œ ê²°ê³¼ë¬¼ì„ ë§Œë“¤ì–´ëƒˆì„ ë•Œ", scores: { zenitsu: 3, iguro: 3, giyu: 2 } },
                    { text: "ì–´ë ¤ìš´ ë„ì „ì„ ê·¹ë³µí–ˆì„ ë•Œ", scores: { inosuke: 3, sanemi: 3, akaza: 2 } },
                    { text: "ì¡°ìš©íˆ ì¸ì •ë°›ê³  ì‹ ë¢°ë°›ì„ ë•Œ", scores: { nezuko: 3, muichiro: 2, gyomei: 2 } }
                ]
            }
        ];

        // í…ŒìŠ¤íŠ¸ ìƒíƒœ
        let currentQuestion = 0;
        let answers = [];
        let scores = {};

        // ì´ë¯¸ì§€ í™•ì¥ì ì§€ì›
        function findImagePath(basePath) {
            const extensions = ['.jpg', '.jpeg', '.png'];
            const defaultImage = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjMwMCIgdmlld0JveD0iMCAwIDMwMCAzMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIzMDAiIGhlaWdodD0iMzAwIiBmaWxsPSIjZjBmMGYwIi8+Cjx0ZXh0IHg9IjE1MCIgeT0iMTUwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNiIgZmlsbD0iIzk5OTk5OSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPuydtOuvuOyngDwvdGV4dD4KPHN2Zz4K';
            
            // ì²« ë²ˆì§¸ í™•ì¥ìë¡œ ì‹œë„
            return basePath + extensions[0];
        }

        // í…ŒìŠ¤íŠ¸ ì‹œì‘
        function startTest() {
            document.getElementById('startScreen').classList.add('hidden');
            document.getElementById('questionScreen').classList.remove('hidden');
            showQuestion();
        }

        // ì§ˆë¬¸ í‘œì‹œ
        function showQuestion() {
            const question = questions[currentQuestion];
            document.getElementById('currentQuestionNum').textContent = currentQuestion + 1;
            document.getElementById('questionText').textContent = question.question;
            
            const answersContainer = document.getElementById('answersContainer');
            answersContainer.innerHTML = '';
            
            question.answers.forEach((answer, index) => {
                const answerBtn = document.createElement('div');
                answerBtn.className = 'answer-btn';
                answerBtn.textContent = answer.text;
                answerBtn.onclick = () => selectAnswer(index);
                answersContainer.appendChild(answerBtn);
            });
            
            // ì§„í–‰ë¥  ì—…ë°ì´íŠ¸
            const progress = ((currentQuestion + 1) / questions.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            
            // ë²„íŠ¼ ìƒíƒœ ì—…ë°ì´íŠ¸
            document.getElementById('prevBtn').disabled = currentQuestion === 0;
            document.getElementById('nextBtn').disabled = true;
        }

        // ë‹µë³€ ì„ íƒ
        function selectAnswer(answerIndex) {
            // ê¸°ì¡´ ì„ íƒ ì œê±°
            document.querySelectorAll('.answer-btn').forEach(btn => {
                btn.style.background = '#f8f9fa';
                btn.style.borderColor = '#e9ecef';
            });
            
            // ìƒˆ ì„ íƒ í‘œì‹œ
            const selectedBtn = document.querySelectorAll('.answer-btn')[answerIndex];
            selectedBtn.style.background = '#e3f2fd';
            selectedBtn.style.borderColor = '#667eea';
            
            answers[currentQuestion] = answerIndex;
            document.getElementById('nextBtn').disabled = false;
        }

        // ë‹¤ìŒ ì§ˆë¬¸
        function nextQuestion() {
            if (currentQuestion < questions.length - 1) {
                currentQuestion++;
                showQuestion();
                
                // ì´ë¯¸ ë‹µë³€í•œ ì§ˆë¬¸ì´ë©´ ì„ íƒ ìƒíƒœ ë³µì›
                if (answers[currentQuestion] !== undefined) {
                    const selectedBtn = document.querySelectorAll('.answer-btn')[answers[currentQuestion]];
                    selectedBtn.style.background = '#e3f2fd';
                    selectedBtn.style.borderColor = '#667eea';
                    document.getElementById('nextBtn').disabled = false;
                }
            } else {
                calculateResult();
            }
        }

        // ì´ì „ ì§ˆë¬¸
        function previousQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                showQuestion();
                
                // ì´ë¯¸ ë‹µë³€í•œ ì§ˆë¬¸ì´ë©´ ì„ íƒ ìƒíƒœ ë³µì›
                if (answers[currentQuestion] !== undefined) {
                    const selectedBtn = document.querySelectorAll('.answer-btn')[answers[currentQuestion]];
                    selectedBtn.style.background = '#e3f2fd';
                    selectedBtn.style.borderColor = '#667eea';
                    document.getElementById('nextBtn').disabled = false;
                }
            }
        }

        // ê²°ê³¼ ê³„ì‚°
        function calculateResult() {
            scores = {};
            
            // ëª¨ë“  ìºë¦­í„° ì ìˆ˜ ì´ˆê¸°í™”
            Object.keys(characters).forEach(key => {
                scores[key] = 0;
            });
            
            // ë‹µë³€ì— ë”°ë¥¸ ì ìˆ˜ ê³„ì‚°
            answers.forEach((answerIndex, questionIndex) => {
                const question = questions[questionIndex];
                const selectedAnswer = question.answers[answerIndex];
                
                Object.keys(selectedAnswer.scores).forEach(character => {
                    scores[character] += selectedAnswer.scores[character];
                });
            });
            
            // ìµœê³  ì ìˆ˜ ìºë¦­í„° ì°¾ê¸°
            let maxScore = 0;
            let resultCharacter = 'tanjiro';
            
            Object.keys(scores).forEach(character => {
                if (scores[character] > maxScore) {
                    maxScore = scores[character];
                    resultCharacter = character;
                }
            });
            
            showResult(resultCharacter);
        }

        // ê²°ê³¼ í‘œì‹œ
        function showResult(characterKey) {
            const character = characters[characterKey];
            
            document.getElementById('questionScreen').classList.add('hidden');
            document.getElementById('resultScreen').classList.remove('hidden');
            
            // ìºë¦­í„° ì •ë³´ í‘œì‹œ
            document.getElementById('resultEmoji').textContent = character.emoji;
            document.getElementById('characterName').textContent = character.name;
            document.getElementById('characterTitle').textContent = character.title;
            document.getElementById('characterSubtitle').textContent = character.subtitle;
            document.getElementById('characterDescription').textContent = character.description;
            
            // ê²°ê³¼ ì´ë¯¸ì§€
            const resultImage = document.getElementById('resultImage');
            const imagePath = findImagePath(`images/results/${characterKey}`);
            resultImage.src = imagePath;
            resultImage.onerror = function() {
                this.src = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjMwMCIgdmlld0JveD0iMCAwIDMwMCAzMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIzMDAiIGhlaWdodD0iMzAwIiBmaWxsPSIjZjBmMGYwIi8+Cjx0ZXh0IHg9IjE1MCIgeT0iMTQwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIyNCIgZmlsbD0iIzk5OTk5OSIgdGV4dC1hbmNob3I9Im1pZGRsZSI+' + character.emoji + '</text><text x="150" y="170" font-family="sans-serif" font-size="14" fill="#999999" text-anchor="middle" dy=".3em">' + character.name + '</text></svg>';
            };
            
            // ê¶í•© ìºë¦­í„° í‘œì‹œ
            showCompatibilityImages(character.compatible, 'compatibleImages');
            showCompatibilityImages(character.incompatible, 'incompatibleImages');
            
            // URL ì—…ë°ì´íŠ¸ (ê³µìœ ìš©)
            const url = new URL(window.location);
            url.searchParams.set('result', characterKey);
            window.history.pushState({}, '', url);
        }

        // ê¶í•© ì´ë¯¸ì§€ í‘œì‹œ
        function showCompatibilityImages(characterKeys, containerId) {
            const container = document.getElementById(containerId);
            container.innerHTML = '';
            
            characterKeys.forEach(key => {
                const character = characters[key];
                const imageDiv = document.createElement('div');
                imageDiv.className = 'compat-image';
                
                const img = document.createElement('img');
                const imagePath = findImagePath(`images/compatibility/${key}`);
                img.src = imagePath;
                img.alt = character.name;
                img.title = character.name;
                img.onerror = function() {
                    this.src = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIwIiBoZWlnaHQ9IjEyMCIgdmlld0JveD0iMCAwIDEyMCAxMjAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMjAiIGhlaWdodD0iMTIwIiBmaWxsPSIjZjBmMGYwIi8+Cjx0ZXh0IHg9IjYwIiB5PSI1NSIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMjAiIGZpbGw9IiM5OTk5OTkiIHRleHQtYW5jaG9yPSJtaWRkbGUiPicgKyBjaGFyYWN0ZXIuZW1vamkgKyAnPC90ZXh0Pjx0ZXh0IHg9IjYwIiB5PSI3NSIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTAiIGZpbGw9IiM5OTk5OTkiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj4nICsgY2hhcmFjdGVyLm5hbWUgKyAnPC90ZXh0Pjwvc3ZnPg==';
                };
                
                imageDiv.appendChild(img);
                container.appendChild(imageDiv);
            });
        }

        // í…ŒìŠ¤íŠ¸ ì¬ì‹œì‘
        function restartTest() {
            currentQuestion = 0;
            answers = [];
            scores = {};
            
            // URL íŒŒë¼ë¯¸í„° ì œê±°
            const url = new URL(window.location);
            url.searchParams.delete('result');
            window.history.pushState({}, '', url);
            
            document.getElementById('resultScreen').classList.add('hidden');
            document.getElementById('startScreen').classList.remove('hidden');
        }

        // ê²°ê³¼ ê³µìœ 
        function shareResult() {
            const currentUrl = window.location.href;
            
            if (navigator.share) {
                navigator.share({
                    title: 'ê·€ë©¸ì˜ ì¹¼ë‚  ì§ì¥ì¸ ì„±í–¥ í…ŒìŠ¤íŠ¸',
                    text: 'ë‚˜ì˜ ì§ì¥ ë‚´ ì„±í–¥ì„ ì•Œì•„ë³´ì„¸ìš”!',
                    url: currentUrl
                });
            } else {
                // í´ë¦½ë³´ë“œì— ë³µì‚¬
                navigator.clipboard.writeText(currentUrl).then(() => {
                    alert('ë§í¬ê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!');
                }).catch(() => {
                    // í´ë¦½ë³´ë“œ ë³µì‚¬ ì‹¤íŒ¨ì‹œ ëŒ€ì²´ ë°©ë²•
                    const textArea = document.createElement('textarea');
                    textArea.value = currentUrl;
                    document.body.appendChild(textArea);
                    textArea.select();
                    try {
                        document.execCommand('copy');
                        alert('ë§í¬ê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!');
                    } catch (err) {
                        alert('ë§í¬ ë³µì‚¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ìˆ˜ë™ìœ¼ë¡œ ë³µì‚¬í•´ì£¼ì„¸ìš”:\n' + currentUrl);
                    }
                    document.body.removeChild(textArea);
                });
            }
        }

        // í˜ì´ì§€ ë¡œë“œì‹œ URL íŒŒë¼ë¯¸í„° í™•ì¸
        window.addEventListener('load', () => {
            const urlParams = new URLSearchParams(window.location.search);
            const resultParam = urlParams.get('result');
            
            if (resultParam && characters[resultParam]) {
                // ê³µìœ ëœ ê²°ê³¼ ì§ì ‘ í‘œì‹œ
                document.getElementById('startScreen').classList.add('hidden');
                showResult(resultParam);
            }
        });

        // í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowLeft' && !document.getElementById('prevBtn').disabled) {
                previousQuestion();
            } else if (e.key === 'ArrowRight' && !document.getElementById('nextBtn').disabled) {
                nextQuestion();
            } else if (e.key >= '1' && e.key <= '4') {
                const answerIndex = parseInt(e.key) - 1;
                const answerBtns = document.querySelectorAll('.answer-btn');
                if (answerBtns[answerIndex]) {
                    selectAnswer(answerIndex);
                }
            }
        });
    </script>
</body>
</html>
